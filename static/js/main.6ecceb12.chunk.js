(this["webpackJsonpgraph-montecristo"]=this["webpackJsonpgraph-montecristo"]||[]).push([[0],{192:function(e){e.exports=JSON.parse('{"CONTROLS":"\u0423\u0447\u0440\u0435\u0434\u0438\u0442\u0435\u043b\u044c","ANNOUNCED":"\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043b\u043e\u0442\u044b","DIRECTOR":"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440","INCLUDES_LOTS":"\u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043b\u043e\u0442\u044b","NAME_SAKE":"\u0422\u0435\u0437\u043a\u0438","NAME_SAKE_INDIVIDUAL":"\u0422\u0435\u0437\u043a\u0438 \u0418\u041f","PARTICIPATED_IN":"\u0423\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b \u0432","PROBABLE_FATHER":"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0435\u0446","PROBABLE_SIBLING":"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0431\u0440\u0430\u0442-\u0441\u0435\u0441\u0442\u0440\u0430","PROBABLE_KID":"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u044b\u043d-\u0434\u043e\u0447\u044c","SAME_INN":"\u041e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u0418\u041d\u041d"}')},273:function(e,t,n){e.exports=n(364)},278:function(e,t,n){},279:function(e,t,n){},364:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),i=n.n(o),s=(n(278),n(148)),l=n(149),c=n(164),d=n(163),u=(n(279),n(244)),p=n.n(u),h=n(52),g=n(109),m=n(245),f=n(423),b=n(428),v=n(429),E=n(431),k=n(446),C=n(430),y=n(82),S=n(165),N=n(249),O=n.n(N),G=n(432),w=n(427),I=n(424),T=n(426),P=n(425),x=n(248),A=n.n(x),L=n(192),_=function(e,t){return e in L?"ru"==t?L[e]:void 0:e},j=n(193),B=n.n(j),R=n(194),D=n.n(R),H=n(166),J=n.n(H),M={KgMinjust:{label:"KgMinjust",style:{backgroundColor:"#fbc02d"},icon:r.a.createElement(B.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/businessYellow.svg",subHeaderUrlParam:"url",subHeaderText:"\u041c\u0438\u043d\u044e\u0441\u0442",contentTextParam:"name_ru",properties:["name_ru","inn","head_name_sur","street"],links:["CONTROLS","DIRECTOR","SAME_INN"]},KgMinjustParticipants:{label:"KgMinjustParticipants",style:{backgroundColor:"#fbc02d"},icon:r.a.createElement(D.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/accountYellow.svg",subHeaderUrlParam:"org_url",subHeaderText:"\u041c\u0438\u043d\u044e\u0441\u0442",contentTextParam:"name",properties:["name"],links:["CONTROLS","NAME_SAKE","PROBABLE_FATHER","PROBABLE_SIBLING","PROBABLE_KID"]},HeadNameSur:{label:"HeadNameSur",style:{backgroundColor:"#fbc02d"},icon:r.a.createElement(D.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/accountYellow.svg",subHeaderUrlParam:"",subHeaderText:"\u041c\u0438\u043d\u044e\u0441\u0442",contentTextParam:"head_name_sur",properties:["head_name_sur"],links:["DIRECTOR","NAME_SAKE","PROBABLE_FATHER","PROBABLE_SIBLING","PROBABLE_KID"]},KgProcurementParticipants:{label:"KgProcurementParticipants",style:{backgroundColor:"#00897b"},icon:r.a.createElement(B.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/busiessGreen.svg",subHeaderUrlParam:"",subHeaderText:"\u0413\u043e\u0441. \u0437\u0430\u043a\u0443\u043f\u043a\u0438",contentTextParam:"name",properties:["inn"],links:["PARTICIPATED_IN","PARTICIPATED_IN","NAME_SAKE_INDIVIDUAL"]},KgProcurementLots:{label:"KgProcurementLots",style:{backgroundColor:"#00897b"},icon:r.a.createElement(J.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/gavelGreen.svg",subHeaderUrlParam:"tender_url",subHeaderText:"\u0413\u043e\u0441. \u0437\u0430\u043a\u0443\u043f\u043a\u0438",contentTextParam:"lot_name",properties:["lot_name"],links:["PARTICIPATED_IN","INCLUDES_LOTS"]},KgProcurement:{label:"KgProcurement",style:{backgroundColor:"#00897b"},icon:r.a.createElement(J.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/83020b7357a5888d237b3661800fec934f692be8/gavelGreen.svg",subHeaderUrlParam:"url",subHeaderText:"\u0422\u0435\u043d\u0434\u0435\u0440",contentTextParam:"procurement_object_no_quotes",properties:["procurement_method"],links:["ANNOUNCED","INCLUDES_LOTS"]},KgProcurementEntitiesWithAddresses:{label:"KgProcurementEntitiesWithAddresses",style:{backgroundColor:"#00897b"},icon:r.a.createElement(J.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/83020b7357a5888d237b3661800fec934f692be8/gavelGreen.svg",subHeaderUrlParam:"",subHeaderText:"\u0417\u0430\u043a\u0443\u043f\u0430\u044e\u0449\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",contentTextParam:"procuring_entity",properties:["district"],links:["ANNOUNCED"]}},K={CONTROLS:{properties:[]},ANNOUNCED:{properties:[]},DIRECTOR:{properties:[]},INCLUDES_LOTS:{properties:[]},NAME_SAKE:{properties:[]},NAME_SAKE_INDIVIDUAL:{properties:[]},PROBABLE_FATHER:{properties:[]},PARTICIPATED_IN:{properties:["proposed_price","result"],result:[{value:"(\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e)",regex:!0,color:"red"}]},PROBABLE_SIBLING:{properties:[]},PROBABLE_KID:{properties:[]},SAME_INN:{properties:[]}},U=Object(f.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,padding:"1px"},nested:{paddingLeft:e.spacing(4),padding:"1px"},listItemIcon:{minWidth:"auto"}}})),z=r.a.memo((function(e){var t=U(),n=r.a.useState(!0),a=Object(g.a)(n,2),o=(a[0],a[1],e.vGraph.toJS().nodes,e.vGraph.toJS().edges,e.iGraph.toJS().nodes,e.iGraph.toJS().edges),i=Object.keys(o).map((function(t){if(e.node.id.toString()==o[t].source.toString()||e.node.id.toString()==o[t].target.toString())return o[t].type})).reduce((function(e,t){return e[t]?e[t]++:e[t]=1,e}),{});i=Object.keys(i).reduce((function(e,t){return"undefined"!==t&&(e[t]=i[t]),e}),{});var s=e.node.labels[0],l=Object.keys(i).map((function(n){if(M[s]&&M[s].links&&M[s].links.includes(n)){var a=function(t){var n=Object.keys(o).map((function(n){if(o[n].type==t&&(e.node.id.toString()==o[n].source.toString()||e.node.id.toString()==o[n].target.toString()))return n}));return n=n.filter((function(e){return void 0!==e}))}(n);return r.a.createElement(I.a,{style:{padding:"1px"},button:!0,onClick:function(){return e.onButtonClick(a)}},r.a.createElement(P.a,{primary:_(n,"ru")+" ("+i[n]+")",primaryTypographyProps:{variant:"body2"}}),r.a.createElement(T.a,{className:t.listItemIcon},r.a.createElement(A.a,null)))}}));return r.a.createElement(w.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:t.root},l)}),(function(e,t){return e.vGraph===t.vGraph&&e.iGraph===t.iGraph&&e.node===t.node})),Q=function(e){var t=new RegExp("\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c\u044e","i");return e.replace(t,"\u041e\u0441\u041e\u041e")},W=Object(f.a)((function(e){return{contentTextParam:{fontWeight:"bold",marginBottom:"5px"}}})),F=r.a.memo((function(e){var t=W(),n=[],a=e.node.labels[0];return Object.keys(M).includes(a)&&M[a].properties.forEach((function(t){M[a].properties&&M[a].properties.includes(t)&&M[a].contentTextParam!==t&&n.push(r.a.createElement(y.a,{variant:"body2",color:"textPrimary",component:"p"},e.node.properties[t]))})),console.log(e.node.properties[M[a].contentTextParam]),r.a.createElement("div",null,r.a.createElement(y.a,{className:t.contentTextParam,variant:"body2",color:"textPrimary",component:"p"},Q(e.node.properties[M[a].contentTextParam])),n)}),(function(e,t){return e.node.properties===t.node.properties})),V=Object(f.a)((function(e){return{root:{maxWidth:240,textAlign:"left",height:"auto"},media:{height:0},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:S.a[500]},cardContent:{paddingTop:0,paddingBottom:0,"&:last-child":{paddingBottom:7}}}})),q=r.a.memo((function(e){var t=V(),n={},a="",o="";if(Object.keys(M).includes(e.node.labels[0])){var i=e.node.labels[0];n=M[i].style,a=M[i].icon,o=r.a.createElement("a",{href:e.node.properties[M[i].subHeaderUrlParam],target:"_blank"},M[i].subHeaderText)}return r.a.createElement(b.a,{className:t.root},r.a.createElement(v.a,{avatar:r.a.createElement(k.a,{"aria-label":"recipe",className:t.avatar,style:n},a),action:r.a.createElement(C.a,{"aria-label":"settings"},r.a.createElement(O.a,{onClick:function(){return e.onMinimizeClick(e.node.id)}})),subheader:r.a.createElement(y.a,null,o)}),r.a.createElement(E.a,{classes:{root:t.cardContent}},r.a.createElement(F,{node:e.node}),r.a.createElement(G.a,{style:{marginTop:8}}),r.a.createElement(z,{node:e.node,vGraph:e.vGraph,iGraph:e.iGraph,onButtonClick:e.onButtonClick})))}),(function(e,t){return e.vGraph===t.vGraph&&e.iGraph===t.iGraph&&e.node===t.node})),Y=function(e){var t={nodes:Object.values(e.visibleGraph.toJS().nodes),links:Object.values(e.visibleGraph.toJS().edges)},n=e.cardNodeIds.toJS();return t.nodes=t.nodes.map((function(t){return n.includes(t.id)?(t.size=4e3,t.dispLabel=" ",t.viewGenerator=function(t){return r.a.createElement(q,{node:t,vGraph:e.visibleGraph,iGraph:e.invisibleGraph,onButtonClick:e.onButtonClick,onMinimizeClick:e.onMinimizeClick})}):(console.log("SVG: ",t.labels),t.svg=M[t.labels[0]].svg,t.size=600,t.fontSize=16,t.dispLabel=Q(t.properties[M[t.labels[0]].contentTextParam])),t})),t.links=t.links.map((function(e){if(0!==K[e.type].properties.length){K[e.type].result.forEach((function(t){t.value.toLowerCase().includes(e.properties.result.substring(0,7).toLowerCase())&&t.regex?e.color=t.color:console.log("LINK NOT RED")}));for(var t="",n=0,a=Object.values(K[e.type].properties);n<a.length;n++){var r=a[n];t=t+e.properties[r]+" "}e.dispLabel=t}else e.dispLabel=_(e.type,"ru");return e})),t},X=r.a.memo((function(e){var t=Object(a.useState)(window.innerHeight-110),n=Object(g.a)(t,2),o=n[0],i=n[1];Object(a.useEffect)((function(){function e(){i(window.innerHeight-110)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var s={height:o,width:"100%",staticGraphWithDragAndDrop:!0,node:{labelProperty:"dispLabel"},d3:{linkLength:300,linkStrength:.1},link:{highlightColor:"lightblue",renderLabel:!0,labelProperty:"dispLabel"}};return r.a.createElement(m.Graph,{config:s,id:"d3graph",data:Y(e),onDoubleClickNode:function(t){e.onNodeClick(t)}})}),(function(e,t){return e.visibleGraph===t.visibleGraph&&e.invisibleGraph===t.invisibleGraph&&e.cardNodeIds===t.cardNodeIds}));function $(e,t){return e.records.forEach((function(e,n){e.keys.forEach((function(n){var a=e.get(n);a.hasOwnProperty("start")?t.edges[a.identity.low]={source:a.start.low,target:a.end.low,type:a.type,properties:a.properties}:t.nodes[a.identity.low]={id:a.identity.low,labels:a.labels,properties:a.properties}}))})),t}function Z(e,t){return Object.keys(t.edges).forEach((function(n){Object.keys(e.nodes).includes(t.edges[n].source.toString())&&Object.keys(e.nodes).includes(t.edges[n].target.toString())&&(e.edges[n]=t.edges[n])})),e}var ee=n(433),te=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).driver=p.a.driver("bolt://neo4j.kloop.io:7687"),e.state={visibleGraph:h.a.fromJS({nodes:{},edges:{}}),invisibleGraph:h.a.fromJS({nodes:{},edges:{}}),cardNodeIds:h.a.fromJS([9350,18766,371947]),showSpinner:!1},e.clearGraphs=function(){e.setState({visibleGraph:h.a.fromJS({nodes:{},edges:{}}),invisibleGraph:h.a.fromJS({nodes:{},edges:{}})})},e.goClick=function(t){e.executeQuery(t)},e.executeQuery=function(t){e.setState({showSpinner:!0});var n=e.driver.session();n.run(t).then((function(t){var n=$(t,e.state.visibleGraph.toJS()),a=Object.keys(n.nodes).toString();e.setState({visibleGraph:h.a.fromJS(n)}),e.updateInvisible(a,n,e.state.invisibleGraph.toJS())})).catch((function(e){console.log(e)})).then((function(){n.close(),e.setState({showSpinner:!1})}))},e.updateInvisible=function(t,n,a){e.driver.session().run("MATCH (n)-[r]-(b) WHERE ID(n) in ["+t+"] RETURN n, r, b").then((function(t){var r=$(t,a);n=Z(n,r),e.setState({visibleGraph:h.a.fromJS(n),invisibleGraph:h.a.fromJS(r)})}))},e.mergeGraphs=function(t,n,a){t.forEach((function(e){n.edges[e]=a.edges[e],n.nodes[n.edges[e].source]=a.nodes[a.edges[e].source],n.nodes[n.edges[e].target]=a.nodes[a.edges[e].target]}));var r=Z(n,a);return e.updateInvisible(t,r,e.state.invisibleGraph.toJS()),r=Z(r,e.state.invisibleGraph.toJS())},e.removeElements=function(t,n,a){var r=e.findNodes(n.nodes,n.edges,t);return t.forEach((function(e){var t=n.nodes[n.edges[e].target];Object.keys(r).includes(String(t.id))||(delete n.nodes[n.edges[e].target],delete n.edges[e])})),[n,a]},e.handleButtonClick=function(t){var n=Object.keys(e.state.visibleGraph.toJS().edges),a=e.state.visibleGraph.toJS(),r=e.state.invisibleGraph.toJS(),o=null;t.every((function(e){return n.includes(e)}))?(o=e.removeElements(t,a,r)[0],t=n.filter((function(e){return!t.includes(e)}))):o=e.mergeGraphs(t,a,r);e.setState({visibleGraph:h.a.fromJS(o)})},e.removeFromArray=function(t){var n=e.state.cardNodeIds.toJS(),a=n.indexOf(parseInt(t));return a>-1&&n.splice(a,1),n},e.addToArray=function(t){var n=e.state.cardNodeIds.toJS();return-1===n.indexOf(parseInt(t))&&n.push(parseInt(t)),n},e.handleMinimezeClick=function(t){console.log("minimize clicked",t);var n=e.removeFromArray(t);console.log("card nodes after minimize: ",n),e.setState({cardNodeIds:h.a.fromJS(n)})},e.handleNodeClick=function(t){if(console.log("node clicked",t),console.log(parseInt(t)),console.log(e.state.cardNodeIds.toJS()),console.log(!e.state.cardNodeIds.toJS().includes(parseInt(t))),e.state.cardNodeIds.toJS().includes(parseInt(t)))console.log("doing nothing");else{var n=e.addToArray(t);e.setState({cardNodeIds:h.a.fromJS(n)})}},e.returnSpinner=function(){return r.a.createElement("div",{style:{position:"absolute",height:"100px",width:"100px",top:"50%",left:"50%",marginLeft:"-50px",marginTop:"-50px"}},r.a.createElement(ee.a,{size:100,style:{color:"grey"}}))},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.isGoClick!==this.props.isGoClick&&(this.goClick(this.props.cypherQuery),this.props.goClick()),e.isClearGraph!==this.props.isClearGraph&&(this.clearGraphs(),this.props.clearClick())}},{key:"findNodes",value:function(e,t,n){var a={};return Object.keys(e).forEach((function(r){n.forEach((function(n){e[r].id!==t[n].source&&e[r].id!==t[n].target||(a[r]=e[r])}))})),a}},{key:"render",value:function(){var e=null;return 0!==Object.keys(this.state.visibleGraph.toJS().nodes).length&&(e=r.a.createElement(X,{onButtonClick:this.handleButtonClick,onMinimizeClick:this.handleMinimezeClick,onNodeClick:this.handleNodeClick,visibleGraph:this.state.visibleGraph,invisibleGraph:this.state.invisibleGraph,cardNodeIds:this.state.cardNodeIds})),r.a.createElement("div",null,this.state.showSpinner?this.returnSpinner():e)}}]),n}(a.Component),ne=n(442),ae=n(250),re=n.n(ae),oe=n(123),ie=n(195),se=n(4),le=n(39),ce=n(444),de=n(434),ue=n(435),pe=n(436),he=n(251),ge=n.n(he),me=n(256),fe=n.n(me),be=n(257),ve=n.n(be),Ee=n(254),ke=n.n(Ee),Ce=n(255),ye=n.n(Ce),Se=n(253),Ne=n.n(Se),Oe=n(441),Ge=n(439),we=n(258),Ie=n.n(we),Te=n(445),Pe=Object(f.a)((function(e){return{root:{display:"flex"},appBar:{background:"transparent",boxShadow:"none",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{color:"gray",marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(ie.a)(Object(ie.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},searchBar:{width:"600px",paddingLeft:13,paddingRight:13,border:"2px solid gray",borderRadius:25}}}));function xe(e){var t=Pe(),n=Object(le.a)(),a=r.a.useState(!1),o=Object(g.a)(a,2),i=o[0],s=o[1];return r.a.createElement("div",{className:t.root},r.a.createElement(de.a,null),r.a.createElement(ue.a,{position:"fixed",className:Object(se.a)(t.appBar,Object(oe.a)({},t.appBarShift,i))},r.a.createElement(pe.a,null,r.a.createElement(C.a,{color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},edge:"start",className:Object(se.a)(t.menuButton,i&&t.hide)},r.a.createElement(ge.a,null)),r.a.createElement(Oe.a,{style:{color:"grey"},className:t.searchBar,value:e.searchText,onChange:e.handleSearchTextChange,placeholder:"Search...",onKeyPress:function(t){"Enter"===t.key&&e.handleGoClick()},InputProps:{disableUnderline:!0,inputProps:{"aria-label":"Search"}}}),r.a.createElement(Te.a,{title:"Search"},r.a.createElement(C.a,{"aria-label":"search",onClick:e.handleGoClick},r.a.createElement(Ne.a,null))),r.a.createElement(Te.a,{title:"Reset"},r.a.createElement(C.a,{"aria-label":"reset",onClick:e.handleResetClick},r.a.createElement(ke.a,null))),r.a.createElement(Te.a,{title:"Clear"},r.a.createElement(C.a,{"aria-label":"clear",onClick:e.handleClearClick},r.a.createElement(ye.a,null))))),r.a.createElement(ce.a,{className:t.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(C.a,{onClick:function(){s(!1)}},"ltr"===n.direction?r.a.createElement(fe.a,null):r.a.createElement(ve.a,null))),r.a.createElement(G.a,null),r.a.createElement(w.a,null,["Enter your query below"].map((function(e,t){return r.a.createElement(I.a,{key:e},r.a.createElement(P.a,{primary:e}))}))),r.a.createElement(w.a,null,r.a.createElement(Oe.a,{id:"query",label:"Query",variant:"outlined",multiline:!0,value:e.cypherQuery,onChange:e.handleCypherQueryTextChange})),r.a.createElement(w.a,null,r.a.createElement(Ge.a,{variant:"contained",className:t.GoButton,onClick:e.handleGoClick,startIcon:r.a.createElement(Ie.a,null)},"Run Query"))),r.a.createElement("main",{style:{padding:0,height:"100%"},className:Object(se.a)(t.content,Object(oe.a)({},t.contentShift,i))},r.a.createElement("div",{className:t.drawerHeader}),e.children))}var Ae=n(440),Le=n(344).default,_e=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={cypherQuery:"MATCH (n) where id(n) in [2437183, 18766, 2460290, 371947, 9350, 2437735, 1150073] return n",searchText:"",goClick:!1,clearGraph:!1,listOfNodes:[],showPagination:!1},e.handleCypherQueryTextChange=function(t){e.setState({cypherQuery:t.target.value})},e.handleSearchTextChange=function(t){var n="MATCH (n) where n.text_search =~ '.*"+t.target.value.toLowerCase()+".*' return n";e.setState({searchText:t.target.value,cypherQuery:n})},e.handlePaginationChange=function(t,n){e.handleClearClick();var a="MATCH (n) where id(n) in ["+e.state.listOfNodes[n-1].join()+"] return n";e.setState({cypherQuery:a}),e.handleGoClick()},e.fetchData=function(t){Le.get(t.url,{params:{token:t.token}}).then((function(t){console.log(t);var n="MATCH (n) where id(n) in ["+t.data[0].join()+"] return n";console.log(n),e.setState({listOfNodes:t.data,showPagination:!0,cypherQuery:n}),e.handleGoClick()})).catch((function(e){console.log("There has been a problem with your fetch operation: "+e.message)}))},e.handleGoClick=function(){e.setState({goClick:!0}),console.log("go button clicked"),console.log("state goClicked ",e.state.goClick)},e.goClick=function(){e.setState({goClick:!1})},e.handleClearClick=function(){e.setState({clearGraph:!0})},e.clearClick=function(){e.setState({clearGraph:!1})},e.handleResetClick=function(){e.handleClearClick(),e.handleGoClick()},e.returnPagination=function(){return r.a.createElement(Ae.a,{container:!0,justify:"center",style:{position:"absolute",left:"50%",bottom:"10px",WebkitTransform:"translateX(-50%)",transform:"translateX(-50%)"}},r.a.createElement(ne.a,{count:e.state.listOfNodes.length,onChange:e.handlePaginationChange,size:"small",showFirstButton:!0,showLastButton:!0}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=re.a.parse(window.location.search,{decode:!1}),t="";console.log("URL STRING",e),e.nodes?(t="MATCH (n) where id(n) in ["+e.nodes+"] return n",console.log("NODES",t),this.setState({cypherQuery:t}),this.handleGoClick()):e.url&&(console.log("urlString",e),this.fetchData(e))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(xe,{cypherQuery:this.state.cypherQuery,handleCypherQueryTextChange:this.handleCypherQueryTextChange,searchText:this.state.searchText,handleSearchTextChange:this.handleSearchTextChange,handleGoClick:this.handleGoClick,handleResetClick:this.handleResetClick,handleClearClick:this.handleClearClick},r.a.createElement(te,{cypherQuery:this.state.cypherQuery,isGoClick:this.state.goClick,goClick:this.goClick,isClearGraph:this.state.clearGraph,clearClick:this.clearClick}),this.state.showPagination?this.returnPagination():null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[273,1,2]]]);
//# sourceMappingURL=main.6ecceb12.chunk.js.map