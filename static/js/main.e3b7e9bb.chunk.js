(this["webpackJsonpgraph-montecristo"]=this["webpackJsonpgraph-montecristo"]||[]).push([[0],{195:function(e){e.exports=JSON.parse('{"CONTROLS":"\u0443\u0447\u0440\u0435\u0434\u0438\u0442\u0435\u043b\u044c","ANNOUNCED":"\u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u043d\u0434\u0435\u0440\u044b","DIRECTOR":"\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440","INCLUDES_LOTS":"\u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043b\u043e\u0442\u044b","NAME_SAKE":"\u0442\u0435\u0437\u043a\u0430?","NAME_SAKE_INDIVIDUAL":"\u0442\u0435\u0437\u043a\u0430 \u0418\u041f?","PARTICIPATED_IN":"\u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b \u0432","PROBABLE_FATHER":"\u043e\u0442\u0435\u0446?","PROBABLE_SIBLING":"\u0431\u0440\u0430\u0442-\u0441\u0435\u0441\u0442\u0440\u0430?","PROBABLE_KID":"\u0441\u044b\u043d-\u0434\u043e\u0447\u044c?","SAME_INN":"\u0418\u041d\u041d","PARTICIPANTS":"\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438","TENDER":"\u0442\u0435\u043d\u0434\u0435\u0440","ENTITY":"\u0437\u0430\u043a\u0443\u043f\u0430\u044e\u0449\u0430\u044f \u043e\u0440\u0433"}')},285:function(e,t,n){e.exports=n(375)},290:function(e,t,n){},291:function(e,t,n){},375:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(21),o=n.n(i),s=(n(290),n(152)),l=n(153),c=n(170),d=n(169),u=(n(291),n(248)),p=n.n(u),h=n(54),g=n(90),m=n(115),f=n(249),b=n(432),k=n(437),v=n(438),S=n(440),E=n(456),C=n(439),y=n(84),N=n(171),O=n(258),w=n.n(O),T=n(441),I=n(436),G=n(433),P=n(435),x=n(434),A=n(257),L=n.n(A),j=n(195),_=function(e,t){return e in j?"ru"==t?j[e]:void 0:e},R=n(196),B=n.n(R),D=n(197),z=n.n(D),H=n(254),J=n.n(H),M=n(256),K=n.n(M),U=n(255),Q=n.n(U),W={KgMinjust:{label:"KgMinjust",style:{backgroundColor:"#fbc02d"},icon:r.a.createElement(B.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/businessYellow.svg",subHeaderUrlParam:"url",subHeaderText:"\u041c\u0438\u043d\u044e\u0441\u0442",contentTextParam:"name_ru",properties:["name_ru","inn","head_name_sur","street"],links:["CONTROLS","DIRECTOR","SAME_INN"],reverseLinks:{}},KgMinjustParticipants:{label:"KgMinjustParticipants",style:{backgroundColor:"#fbc02d"},icon:r.a.createElement(z.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/accountYellow.svg",subHeaderUrlParam:"org_url",subHeaderText:"\u041c\u0438\u043d\u044e\u0441\u0442",contentTextParam:"name",properties:["name"],links:["CONTROLS","NAME_SAKE","PROBABLE_FATHER","PROBABLE_SIBLING","PROBABLE_KID"],reverseLinks:{}},HeadNameSur:{label:"HeadNameSur",style:{backgroundColor:"#fbc02d"},icon:r.a.createElement(z.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/accountYellow.svg",subHeaderUrlParam:"",subHeaderText:"\u041c\u0438\u043d\u044e\u0441\u0442",contentTextParam:"head_name_sur",properties:["head_name_sur"],links:["DIRECTOR","NAME_SAKE","PROBABLE_FATHER","PROBABLE_SIBLING","PROBABLE_KID"],reverseLinks:{}},KgProcurementParticipants:{label:"KgProcurementParticipants",style:{backgroundColor:"#00897b"},icon:r.a.createElement(B.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/busiessGreen.svg",subHeaderUrlParam:"",subHeaderText:"\u0413\u043e\u0441. \u0437\u0430\u043a\u0443\u043f\u043a\u0438",contentTextParam:"name",properties:["inn"],links:["PARTICIPATED_IN","NAME_SAKE_INDIVIDUAL"],reverseLinks:{}},KgProcurementLots:{label:"KgProcurementLots",style:{backgroundColor:"#00897b"},icon:r.a.createElement(J.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/gavelGreen.svg",subHeaderUrlParam:"tender_url",subHeaderText:"\u0413\u043e\u0441. \u0437\u0430\u043a\u0443\u043f\u043a\u0438",contentTextParam:"lot_name",properties:["lot_name"],links:["PARTICIPATED_IN","INCLUDES_LOTS"],reverseLinks:{PARTICIPATED_IN:"PARTICIPANTS",INCLUDES_LOTS:"TENDER"}},KgProcurement:{label:"KgProcurement",style:{backgroundColor:"#00897b"},icon:r.a.createElement(Q.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/13c35330a9b7ae752e04638edb39068555ae9374/monetizeGreen.svg",subHeaderUrlParam:"url",subHeaderText:"\u0422\u0435\u043d\u0434\u0435\u0440",contentTextParam:"procurement_object_no_quotes",properties:["procurement_method"],links:["ANNOUNCED","INCLUDES_LOTS"],reverseLinks:{ANNOUNCED:"ENTITY"}},KgProcurementEntitiesWithAddresses:{label:"KgProcurementEntitiesWithAddresses",style:{backgroundColor:"#00897b"},icon:r.a.createElement(K.a,{style:{fontSize:30}}),svg:"https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/83020b7357a5888d237b3661800fec934f692be8/orgTenderGreen.svg",subHeaderUrlParam:"",subHeaderText:"\u0417\u0430\u043a\u0443\u043f\u0430\u044e\u0449\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",contentTextParam:"procuring_entity",properties:["district"],links:["ANNOUNCED"],reverseLinks:{}}},F={CONTROLS:{properties:[],linkConf:{fontSize:14}},ANNOUNCED:{properties:[],linkConf:{fontSize:14}},DIRECTOR:{properties:[],linkConf:{fontSize:14}},INCLUDES_LOTS:{properties:[],linkConf:{fontSize:14}},NAME_SAKE:{properties:[],linkConf:{fontSize:14}},NAME_SAKE_INDIVIDUAL:{properties:[],linkConf:{fontSize:14}},PROBABLE_FATHER:{properties:[],linkConf:{fontSize:14}},PARTICIPATED_IN:{properties:["proposed_price","result"],result:[{value:"(\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e)",regex:!0,color:"red"}],linkConf:{fontSize:14}},PROBABLE_SIBLING:{properties:[],linkConf:{fontSize:14}},PROBABLE_KID:{properties:[],linkConf:{fontSize:14}},SAME_INN:{properties:[],linkConf:{fontSize:14}}},Y=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,padding:"1px"},nested:{paddingLeft:e.spacing(4),padding:"1px"},listItemIcon:{minWidth:"auto"}}})),q=r.a.memo((function(e){var t=Y(),n=r.a.useState(!0),a=Object(g.a)(n,2),i=(a[0],a[1],e.vGraph.toJS().nodes,e.vGraph.toJS().edges,e.iGraph.toJS().nodes,e.iGraph.toJS().edges),o=Object.keys(i).map((function(t){if(e.node.id.toString()==i[t].source.toString()||e.node.id.toString()==i[t].target.toString())return i[t].type})).reduce((function(e,t){return e[t]?e[t]++:e[t]=1,e}),{});o=Object.keys(o).reduce((function(e,t){return"undefined"!==t&&(e[t]=o[t]),e}),{});var s=e.node.labels[0],l=Object.keys(o).map((function(n){if(W[s]&&W[s].links&&W[s].links.includes(n)){var a=function(t){var n=Object.keys(i).map((function(n){if(i[n].type==t&&(e.node.id.toString()==i[n].source.toString()||e.node.id.toString()==i[n].target.toString()))return n}));return n=n.filter((function(e){return void 0!==e}))}(n),l="";return l=0!==Object.keys(W[s].reverseLinks).length&&Object.keys(W[s].reverseLinks).includes(n)?W[s].reverseLinks[n]:n,r.a.createElement(G.a,{key:n,style:{padding:"1px"},button:!0,onClick:function(){return e.onButtonClick(a)}},r.a.createElement(x.a,{primary:_(l,"ru")+" ("+o[n]+")",primaryTypographyProps:{variant:"body2"}}),r.a.createElement(P.a,{className:t.listItemIcon},r.a.createElement(L.a,null)))}}));return r.a.createElement(I.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:t.root},l)}),(function(e,t){return e.vGraph===t.vGraph&&e.iGraph===t.iGraph&&e.node===t.node})),V=function(e){var t=new RegExp("\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c\u044e","i");return e.replace(t,"\u041e\u0441\u041e\u041e")},X=Object(b.a)((function(e){return{contentTextParam:{fontWeight:"bold",marginBottom:"5px"}}})),$=r.a.memo((function(e){var t=X(),n=[],a=e.node.labels[0];return Object.keys(W).includes(a)&&W[a].properties.forEach((function(t){W[a].properties&&W[a].properties.includes(t)&&W[a].contentTextParam!==t&&n.push(r.a.createElement(y.a,{key:t+a,variant:"body2",color:"textPrimary",component:"p"},e.node.properties[t]))})),console.log(e.node.properties[W[a].contentTextParam]),r.a.createElement("div",null,r.a.createElement(y.a,{className:t.contentTextParam,variant:"body2",color:"textPrimary",component:"p"},V(e.node.properties[W[a].contentTextParam])),n)}),(function(e,t){return e.node.properties===t.node.properties})),Z=Object(b.a)((function(e){return{root:{maxWidth:240,textAlign:"left",height:"auto"},media:{height:0},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:N.a[500]},cardContent:{paddingTop:0,paddingBottom:0,"&:last-child":{paddingBottom:7}}}})),ee=r.a.memo((function(e){var t=Z(),n={},a="",i="";if(Object.keys(W).includes(e.node.labels[0])){var o=e.node.labels[0];n=W[o].style,a=W[o].icon,i=r.a.createElement("a",{href:e.node.properties[W[o].subHeaderUrlParam],target:"_blank"},W[o].subHeaderText)}return r.a.createElement(k.a,{className:t.root},r.a.createElement(v.a,{avatar:r.a.createElement(E.a,{"aria-label":"recipe",className:t.avatar,style:n},a),action:r.a.createElement(C.a,{"aria-label":"settings"},r.a.createElement(w.a,{onClick:function(){return e.onMinimizeClick(e.node.id)}})),subheader:r.a.createElement(y.a,null,i)}),r.a.createElement(S.a,{classes:{root:t.cardContent}},r.a.createElement($,{node:e.node}),r.a.createElement(T.a,{style:{marginTop:8}}),r.a.createElement(q,{node:e.node,vGraph:e.vGraph,iGraph:e.iGraph,onButtonClick:e.onButtonClick})))}),(function(e,t){return e.vGraph===t.vGraph&&e.iGraph===t.iGraph})),te=r.a.memo((function(e){var t=Object(a.useState)(window.innerHeight-110),n=Object(g.a)(t,2),i=n[0],o=n[1],s=Object(a.useState)(window.innerWidth),l=Object(g.a)(s,2),c=l[0],d=l[1];Object(a.useEffect)((function(){function e(){o(window.innerHeight-110),d(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var u={height:i,width:c,node:{labelProperty:"dispLabel"},d3:{alphaTarget:.05,gravity:-100,linkLength:100,linkStrength:1,disableLinkForce:!1},link:{highlightColor:"lightblue",renderLabel:!0,labelProperty:"dispLabel"}};return r.a.createElement(f.Graph,{config:u,id:"d3graph",data:function(e){var t={nodes:Object.values(e.visibleGraph.toJS().nodes),links:Object.values(e.visibleGraph.toJS().edges)},n=e.cardNodeIds.toJS();return t.nodes=t.nodes.map((function(t){return console.log("NODE",t),n.includes(t.id)?(t.size={height:4e3,width:2400},t.fontSize=16,t.dispLabel=" ",t.viewGenerator=function(t){return r.a.createElement(ee,{node:t,vGraph:e.visibleGraph,iGraph:e.invisibleGraph,onButtonClick:e.onButtonClick,onMinimizeClick:e.onMinimizeClick})}):(t.svg=W[t.labels[0]].svg,t.size=600,t.fontSize=16,t.dispLabel=V(t.properties[W[t.labels[0]].contentTextParam])),t})),t.links=t.links.map((function(e){var t=Object(m.a)(Object(m.a)({},e),F[e.type].linkConf);if(0!==F[t.type].properties.length){F[t.type].result.forEach((function(e){e.value.toLowerCase().includes(t.properties.result.substring(0,7).toLowerCase())&&e.regex?t.color=e.color:console.log("LINK NOT RED")}));for(var n="",a=0,r=Object.values(F[t.type].properties);a<r.length;a++){var i=r[a];n=n+t.properties[i]+" "}t.dispLabel=n,t.fontSize=16}else t.dispLabel=_(t.type,"ru"),t.fontSize=16;return t})),t}(e),onDoubleClickNode:function(t){e.onNodeClick(t)}})}),(function(e,t){return e.visibleGraph===t.visibleGraph&&e.invisibleGraph===t.invisibleGraph&&e.cardNodeIds===t.cardNodeIds}));function ne(e,t){return e.records.forEach((function(e,n){e.keys.forEach((function(n){var a=e.get(n);a.hasOwnProperty("start")?t.edges[a.identity.low]={source:a.start.low,target:a.end.low,type:a.type,properties:a.properties}:t.nodes[a.identity.low]={id:a.identity.low,labels:a.labels,properties:a.properties}}))})),t}function ae(e,t){return Object.keys(t.edges).forEach((function(n){Object.keys(e.nodes).includes(t.edges[n].source.toString())&&Object.keys(e.nodes).includes(t.edges[n].target.toString())&&(e.edges[n]=t.edges[n])})),e}var re=n(442),ie=n(443),oe=n(451),se=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).driver=p.a.driver("bolt://neo4j.kloop.io:7687"),e.state={visibleGraph:h.a.fromJS({nodes:{},edges:{}}),invisibleGraph:h.a.fromJS({nodes:{},edges:{}}),cardNodeIds:h.a.fromJS([9350,18766,371947]),showSpinner:!1,showSmallSpinner:!1},e.clearGraphs=function(){e.setState({visibleGraph:h.a.fromJS({nodes:{},edges:{}}),invisibleGraph:h.a.fromJS({nodes:{},edges:{}})})},e.goClick=function(t){e.executeQuery(t)},e.executeQuery=function(t){e.setState({showSpinner:!0});var n=e.driver.session();n.run(t).then((function(t){var n=ne(t,e.state.visibleGraph.toJS()),a=Object.keys(n.nodes).toString();e.setState({visibleGraph:h.a.fromJS(n)}),e.updateInvisible(a,n,e.state.invisibleGraph.toJS())})).catch((function(e){console.log(e)})).then((function(){n.close(),e.setState({showSpinner:!1})}))},e.updateInvisible=function(t,n,a){e.setState({showSmallSpinner:!0});var r=e.driver.session();r.run("MATCH (n)-[r]-(b) WHERE ID(n) in ["+t+"] RETURN n, r, b").then((function(t){var r=ne(t,a);n=ae(n,r),e.setState({visibleGraph:h.a.fromJS(n),invisibleGraph:h.a.fromJS(r)})})).catch((function(e){console.log(e)})).then((function(){r.close(),e.setState({showSmallSpinner:!1})}))},e.mergeGraphs=function(t,n,a){t.forEach((function(e){n.edges[e]=a.edges[e],n.nodes[n.edges[e].source]=a.nodes[a.edges[e].source],n.nodes[n.edges[e].target]=a.nodes[a.edges[e].target]}));var r=ae(n,a);return e.updateInvisible(t,r,e.state.invisibleGraph.toJS()),r=ae(r,e.state.invisibleGraph.toJS())},e.removeElements=function(t,n,a){var r=e.findNodes(n.nodes,n.edges,t);return t.forEach((function(e){var t=n.nodes[n.edges[e].target];Object.keys(r).includes(String(t.id))||(delete n.nodes[n.edges[e].target],delete n.edges[e])})),[n,a]},e.handleButtonClick=function(t){var n=Object.keys(e.state.visibleGraph.toJS().edges),a=e.state.visibleGraph.toJS(),r=e.state.invisibleGraph.toJS(),i=null;if(t.every((function(e){return n.includes(e)}))){i=e.removeElements(t,a,r)[0],t=n.filter((function(e){return!t.includes(e)}))}else{i=e.mergeGraphs(t,a,r);var o=e.findNodes(i.nodes,i.edges,t);e.updateInvisible(Object.keys(o),i,r)}e.setState({visibleGraph:h.a.fromJS(i)})},e.removeFromArray=function(t){var n=e.state.cardNodeIds.toJS(),a=n.indexOf(parseInt(t));return a>-1&&n.splice(a,1),n},e.addToArray=function(t){var n=e.state.cardNodeIds.toJS();return-1===n.indexOf(parseInt(t))&&n.push(parseInt(t)),n},e.handleMinimezeClick=function(t){console.log("minimize clicked",t);var n=e.removeFromArray(t);e.setState({cardNodeIds:h.a.fromJS(n)})},e.handleNodeClick=function(t){if(console.log("node clicked",t),!e.state.cardNodeIds.toJS().includes(parseInt(t))){var n=e.addToArray(t);e.setState({cardNodeIds:h.a.fromJS(n)})}},e.returnSpinner=function(){return r.a.createElement("div",{style:{position:"absolute",height:"100px",width:"100px",top:"50%",left:"50%",marginLeft:"-50px",marginTop:"-50px"}},r.a.createElement(re.a,{size:100,style:{color:"grey"}}))},e.returnSmallSpinner=function(){return r.a.createElement(ie.a,{container:!0,alignContent:"flex-end",direction:"column",style:{position:"absolute",right:0,paddingRight:"10px"}},r.a.createElement(oe.a,null,r.a.createElement(re.a,{size:32,style:{color:"grey"}})),r.a.createElement(y.a,{variant:"body2",component:"p",style:{fontSize:"12px"}},"C\u0432\u044f\u0437\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f"))},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.isGoClick!==this.props.isGoClick&&(this.goClick(this.props.cypherQuery),this.props.goClick()),e.isClearGraph!==this.props.isClearGraph&&(this.clearGraphs(),this.props.clearClick())}},{key:"findNodes",value:function(e,t,n){var a={};return Object.keys(e).forEach((function(r){n.forEach((function(n){e[r].id!==t[n].source&&e[r].id!==t[n].target||(a[r]=e[r])}))})),a}},{key:"render",value:function(){var e=null;return 0!==Object.keys(this.state.visibleGraph.toJS().nodes).length&&(e=r.a.createElement(te,{onButtonClick:this.handleButtonClick,onMinimizeClick:this.handleMinimezeClick,onNodeClick:this.handleNodeClick,visibleGraph:this.state.visibleGraph,invisibleGraph:this.state.invisibleGraph,cardNodeIds:this.state.cardNodeIds})),r.a.createElement("div",null,this.state.showSmallSpinner?this.returnSmallSpinner():null,this.state.showSpinner?this.returnSpinner():e)}}]),n}(a.Component),le=n(452),ce=n(259),de=n.n(ce),ue=n(124),pe=n(4),he=n(41),ge=n(454),me=n(444),fe=n(445),be=n(446),ke=n(260),ve=n.n(ke),Se=n(265),Ee=n.n(Se),Ce=n(266),ye=n.n(Ce),Ne=n(263),Oe=n.n(Ne),we=n(264),Te=n.n(we),Ie=n(262),Ge=n.n(Ie),Pe=n(450),xe=n(449),Ae=n(267),Le=n.n(Ae),je=n(455),_e=Object(b.a)((function(e){return{root:{display:"flex"},appBar:{background:"transparent",boxShadow:"none",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{color:"gray",marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(m.a)(Object(m.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},searchBar:{width:"600px",paddingLeft:13,paddingRight:13,border:"2px solid gray",borderRadius:25}}}));function Re(e){var t=_e(),n=Object(he.a)(),a=r.a.useState(!1),i=Object(g.a)(a,2),o=i[0],s=i[1];return r.a.createElement("div",{className:t.root},r.a.createElement(me.a,null),r.a.createElement(fe.a,{position:"fixed",className:Object(pe.a)(t.appBar,Object(ue.a)({},t.appBarShift,o))},r.a.createElement(be.a,null,r.a.createElement(C.a,{color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},edge:"start",className:Object(pe.a)(t.menuButton,o&&t.hide)},r.a.createElement(ve.a,null)),r.a.createElement(Pe.a,{style:{color:"grey"},className:t.searchBar,value:e.searchText,onChange:e.handleSearchTextChange,placeholder:"Search...",onKeyPress:function(t){"Enter"===t.key&&e.handleGoClick()},InputProps:{disableUnderline:!0,inputProps:{"aria-label":"Search"}}}),r.a.createElement(je.a,{title:"Search"},r.a.createElement(C.a,{"aria-label":"search",onClick:e.handleGoClick},r.a.createElement(Ge.a,null))),r.a.createElement(je.a,{title:"Reset"},r.a.createElement(C.a,{"aria-label":"reset",onClick:e.handleResetClick},r.a.createElement(Oe.a,null))),r.a.createElement(je.a,{title:"Clear"},r.a.createElement(C.a,{"aria-label":"clear",onClick:e.handleClearClick},r.a.createElement(Te.a,null))))),r.a.createElement(ge.a,{className:t.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(C.a,{onClick:function(){s(!1)}},"ltr"===n.direction?r.a.createElement(Ee.a,null):r.a.createElement(ye.a,null))),r.a.createElement(T.a,null),r.a.createElement(I.a,null,["Enter your query below"].map((function(e,t){return r.a.createElement(G.a,{key:e},r.a.createElement(x.a,{primary:e}))}))),r.a.createElement(I.a,null,r.a.createElement(Pe.a,{id:"query",label:"Query",variant:"outlined",multiline:!0,value:e.cypherQuery,onChange:e.handleCypherQueryTextChange})),r.a.createElement(I.a,null,r.a.createElement(xe.a,{variant:"contained",className:t.GoButton,onClick:e.handleGoClick,startIcon:r.a.createElement(Le.a,null)},"Run Query"))),r.a.createElement("main",{style:{padding:0,height:"100%"},className:Object(pe.a)(t.content,Object(ue.a)({},t.contentShift,o))},r.a.createElement("div",{className:t.drawerHeader}),e.children))}var Be=n(355).default,De=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={cypherQuery:"MATCH (n) where id(n) in [2437183, 18766, 2460290, 371947, 9350, 2437735, 1150073] return n",searchText:"",goClick:!1,clearGraph:!1,listOfNodes:[],showPagination:!1},e.handleCypherQueryTextChange=function(t){e.setState({cypherQuery:t.target.value})},e.handleSearchTextChange=function(t){var n="MATCH (n) where n.text_search =~ '.*"+t.target.value.toLowerCase()+".*' return n";e.setState({searchText:t.target.value,cypherQuery:n})},e.handlePaginationChange=function(t,n){e.handleClearClick();var a="MATCH (n) where id(n) in ["+e.state.listOfNodes[n-1].join()+"] return n";e.setState({cypherQuery:a}),e.handleGoClick()},e.fetchData=function(t){Be.get(t.url,{params:{token:t.token}}).then((function(t){console.log(t);var n="MATCH (n) where id(n) in ["+t.data[0].join()+"] return n";console.log(n),e.setState({listOfNodes:t.data,showPagination:!0,cypherQuery:n}),e.handleGoClick()})).catch((function(e){console.log("There has been a problem with your fetch operation: "+e.message)}))},e.handleGoClick=function(){e.setState({goClick:!0}),console.log("go button clicked"),console.log("state goClicked ",e.state.goClick)},e.goClick=function(){e.setState({goClick:!1})},e.handleClearClick=function(){e.setState({clearGraph:!0})},e.clearClick=function(){e.setState({clearGraph:!1})},e.handleResetClick=function(){e.handleClearClick(),e.handleGoClick()},e.returnPagination=function(){return r.a.createElement(ie.a,{container:!0,justify:"center",style:{position:"absolute",left:"50%",bottom:"10px",WebkitTransform:"translateX(-50%)",transform:"translateX(-50%)"}},r.a.createElement(le.a,{count:e.state.listOfNodes.length,onChange:e.handlePaginationChange,size:"small",showFirstButton:!0,showLastButton:!0}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=de.a.parse(window.location.search,{decode:!1}),t="";console.log("URL STRING",e),e.nodes?(t="MATCH (n) where id(n) in ["+e.nodes+"] return n",console.log("NODES",t),this.setState({cypherQuery:t}),this.handleGoClick()):e.url&&(console.log("urlString",e),this.fetchData(e))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Re,{cypherQuery:this.state.cypherQuery,handleCypherQueryTextChange:this.handleCypherQueryTextChange,searchText:this.state.searchText,handleSearchTextChange:this.handleSearchTextChange,handleGoClick:this.handleGoClick,handleResetClick:this.handleResetClick,handleClearClick:this.handleClearClick},r.a.createElement(se,{cypherQuery:this.state.cypherQuery,isGoClick:this.state.goClick,goClick:this.goClick,isClearGraph:this.state.clearGraph,clearClick:this.clearClick}),this.state.showPagination?this.returnPagination():null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[285,1,2]]]);
//# sourceMappingURL=main.e3b7e9bb.chunk.js.map