{"version":3,"sources":["Cards/utils/translate.js","config.js","Cards/NestedLinks.js","Cards/utils/shorten.js","Cards/NestedProperties.js","Cards/Card.js","MGraph/MGraph.js","components/graphHelpers.js","components/GraphComponent.js","SideBar/AppSideBar.js","App.js","serviceWorker.js","index.js"],"names":["tranlate_word","word","language","ru","cardConfig","KgMinjust","label","style","backgroundColor","icon","fontSize","svg","subHeaderUrlParam","subHeaderText","contentTextParam","properties","links","KgMinjustParticipants","HeadNameSur","KgProcurementParticipants","KgProcurementLots","relationshipConfig","CONTROLS","ANNOUNCED","DIRECTOR","INCLUDES_LOTS","NAME_SAKE","NAME_SAKE_INDIVIDUAL","PROBABLE_FATHER","PARTICIPATED_IN","PROBABLE_SIBLING","PROBABLE_KID","SAME_INN","useStyles","makeStyles","theme","root","palette","background","paper","padding","nested","paddingLeft","spacing","listItemIcon","minWidth","React","memo","props","classes","useState","iEdges","vGraph","toJS","nodes","edges","iGraph","listOfRelationships","Object","keys","map","key","node","id","toString","source","target","type","reduce","obj","relation","object","labels","listOfLinks","includes","filter","element","undefined","getKeyRelationshipIds","ListItem","button","onClick","onButtonClick","ListItemText","primary","translate","primaryTypographyProps","variant","ListItemIcon","className","List","component","aria-labelledby","prevProps","nextProps","shorten","phrase","regex","RegExp","replace","fontWeight","marginBottom","NestedProperties","listOfProps","forEach","prop","push","Typography","color","console","log","maxWidth","textAlign","height","media","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","red","cardContent","paddingTop","paddingBottom","subheader","href","Card","CardHeader","Avatar","aria-label","action","IconButton","onMinimizeClick","CardContent","Divider","marginTop","displayGraph","dispGraph","values","visibleGraph","cardNodeIds","size","dispLabel","viewGenerator","n","invisibleGraph","CardConfig","link","length","value","myConfig","window","innerHeight","width","staticGraphWithDragAndDrop","labelProperty","highlightColor","renderLabel","config","data","onDoubleClickNode","nodeId","onNodeClick","toGraph","result","graph","records","i","nodge","get","hasOwnProperty","identity","low","start","end","reconcileGraphs","GraphComponent","driver","neo4j","state","Immutable","fromJS","clearGraphs","setState","goClick","query","executeQuery","cypherQuery","session","run","then","updatedVisibleGraph","gh","paramIDs","updateInvisible","catch","error","close","updatedInvisibleGraph","mergeGraphs","ids","removeElements","innocentNodes","findNodes","nodeToRemove","String","handleButtonClick","every","el","removeFromArray","idIndex","indexOf","parseInt","splice","addToArray","handleMinimezeClick","handleNodeClick","isGoClick","this","isClearGraph","clearClick","edgeIds","foundNodes","nodeKey","edgeId","Component","display","appBar","boxShadow","easing","sharp","leavingScreen","appBarShift","easeOut","enteringScreen","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","mixins","toolbar","justifyContent","content","flexGrow","contentShift","searchBar","paddingRight","border","borderRadius","PersistentDrawerLeft","useTheme","open","setOpen","CssBaseline","AppBar","position","clsx","Toolbar","edge","TextField","searchText","onChange","handleSearchTextChange","placeholder","InputProps","disableUnderline","inputProps","Tooltip","title","handleGoClick","handleResetClick","handleClearClick","Drawer","anchor","direction","text","index","multiline","handleCypherQueryTextChange","Button","GoButton","startIcon","children","axios","require","default","App","clearGraph","listOfNodes","showPagination","event","toLowerCase","handlePaginationChange","join","fetchData","urlString","url","params","token","response","message","returnPagination","Grid","container","justify","Pagination","count","showFirstButton","showLastButton","queryString","parse","location","search","decode","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"s/CAQeA,EANO,SAACC,EAAMC,GACzB,GAAgB,MAAZA,EACA,OAAOC,EAAGF,I,sDC6DHG,EA1DI,CACfC,UAAW,CACPC,MAAO,YACPC,MAAO,CAACC,gBAAiB,WACzBC,KAAM,kBAAC,IAAD,CAAeF,MAAO,CAAEG,SAAU,MACxCC,IAAK,sIACLC,kBAAmB,MACnBC,cAAe,uCACfC,iBAAkB,UAClBC,WAAY,CAAC,UAAW,MAAO,gBAAiB,UAChDC,MAAO,CAAC,WAAY,WAAY,aAEpCC,sBAAuB,CACnBX,MAAO,wBACPC,MAAO,CAACC,gBAAiB,WACzBC,KAAM,kBAAC,IAAD,CAAmBF,MAAO,CAAEG,SAAU,MAC5CC,IAAK,qIACLC,kBAAmB,UACnBC,cAAe,uCACfC,iBAAkB,OAClBC,WAAY,CAAC,QACbC,MAAO,CAAC,WAAY,YAAa,kBAAmB,mBAAoB,iBAE5EE,YAAa,CACTZ,MAAO,cACPC,MAAO,CAACC,gBAAiB,WACzBC,KAAM,kBAAC,IAAD,CAAoBF,MAAO,CAAEG,SAAU,MAC7CC,IAAM,qIACNC,kBAAmB,GACnBC,cAAe,uCACfC,iBAAkB,gBAClBC,WAAY,CAAC,iBACbC,MAAO,CAAC,WAAY,YAAa,kBAAmB,mBAAoB,iBAE5EG,0BAA2B,CACvBb,MAAO,4BACPC,MAAO,CAACC,gBAAiB,WACzBC,KAAM,kBAAC,IAAD,CAAcF,MAAO,CAAEG,SAAU,MACvCC,IAAK,oIACLC,kBAAmB,GACnBC,cAAe,iEACfC,iBAAkB,OAClBC,WAAY,CAAC,OACbC,MAAO,CAAC,kBAAmB,kBAAmB,yBAElDI,kBAAmB,CACfd,MAAO,oBACPC,MAAO,CAACC,gBAAiB,WACzBC,KAAM,kBAAC,IAAD,CAAWF,MAAO,CAAEG,SAAU,MACpCC,IAAM,kIACNC,kBAAmB,aACnBC,cAAe,iEACfC,iBAAkB,WAClBC,WAAY,CAAC,YACbC,MAAO,CAAC,kBAAmB,mBAOtBK,EAAqB,CAE9BC,SAAU,CACNP,WAAY,IAEhBQ,UAAW,CACPR,WAAY,IAEhBS,SAAU,CACNT,WAAY,IAEhBU,cAAe,CACXV,WAAY,IAEhBW,UAAW,CACPX,WAAY,IAEhBY,qBAAsB,CAClBZ,WAAY,IAEhBa,gBAAiB,CACbb,WAAY,IAEhBc,gBAAiB,CACbd,WAAY,CAAC,iBAAkB,WAEnCe,iBAAkB,CACdf,WAAY,IAEhBgB,aAAc,CACVhB,WAAY,IAEhBiB,SAAU,CACNjB,WAAY,KChFdkB,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ5B,gBAAiB2B,EAAME,QAAQC,WAAWC,MAC1CC,QAAS,OAEXC,OAAQ,CACNC,YAAaP,EAAMQ,QAAQ,GAC3BH,QAAS,OAEXI,aAAc,CACZC,SAAU,YA8FCC,MAAMC,MA1FD,SAACC,GACnB,IAAMC,EAAUhB,IADa,EAELa,IAAMI,UAAS,GAFV,mBAgBvBC,GAhBuB,UAYdH,EAAMI,OAAOC,OAAOC,MACpBN,EAAMI,OAAOC,OAAOE,MAEpBP,EAAMQ,OAAOH,OAAOC,MACpBN,EAAMQ,OAAOH,OAAOE,OAG/BE,EAAsBC,OAAOC,KAAKR,GAAQS,KAAI,SAACC,GACjD,GAAIb,EAAMc,KAAKC,GAAGC,YAAcb,EAAOU,GAAKI,OAAOD,YAAchB,EAAMc,KAAKC,GAAGC,YAAcb,EAAOU,GAAKK,OAAOF,WAC9G,OAAOb,EAAOU,GAAKM,QAEpBC,QAAO,SAASC,EAAKC,GAMpB,OALKD,EAAIC,GAGLD,EAAIC,KAFJD,EAAIC,GAAY,EAIbD,IACR,IAGFZ,EAAsBC,OAAOC,KAAKF,GAAqBW,QAAO,SAACG,EAAQV,GAItE,MAHY,cAARA,IACFU,EAAOV,GAAOJ,EAAoBI,IAE7BU,IACN,IAEH,IAcMjE,EAAQ0C,EAAMc,KAAKU,OAAO,GAE5BC,EAAcf,OAAOC,KAAKF,GAAqBG,KAAI,SAACC,GACtD,GAAIzD,EAAWE,IACRF,EAAWE,GAAOU,OAClBZ,EAAWE,GAAOU,MAAM0D,SAASb,GAAM,CAC5C,IAAMF,EApBoB,SAACQ,GAC7B,IAAIR,EAAOD,OAAOC,KAAKR,GAAQS,KAAI,SAACC,GAClC,GAAKV,EAAOU,GAAKM,MAAQA,IAAUnB,EAAMc,KAAKC,GAAGC,YAAcb,EAAOU,GAAKI,OAAOD,YAAchB,EAAMc,KAAKC,GAAGC,YAAcb,EAAOU,GAAKK,OAAOF,YAC7I,OAAOH,KAQX,OAJAF,EAAOA,EAAKgB,QAAO,SAAUC,GAC3B,YAAmBC,IAAZD,KAYME,CAAsBjB,GAEnC,OACE,kBAACkB,EAAA,EAAD,CAAUxE,MAAO,CAACiC,QAAS,OAAQwC,QAAM,EAACC,QAAS,kBAAMjC,EAAMkC,cAAcvB,KAC3E,kBAACwB,EAAA,EAAD,CAAcC,QAASC,EAAUxB,EAAK,MAAQ,KAAOJ,EAAoBI,GAAO,IAAKyB,uBAAwB,CAACC,QAAQ,WACtH,kBAACC,EAAA,EAAD,CAAcC,UAAWxC,EAAQL,cAC/B,kBAAC,IAAD,YAOV,OACE,kBAAC8C,EAAA,EAAD,CACEC,UAAU,MACVC,kBAAgB,wBAChBH,UAAWxC,EAAQb,MAElBqC,MAKU,SAACoB,EAAWC,GAC3B,OAASD,EAAUzC,SAAW0C,EAAU1C,QAC/ByC,EAAUrC,SAAWsC,EAAUtC,QAC/BqC,EAAU/B,OAASgC,EAAUhC,QCrHzBiC,EALC,SAACC,GACf,IAAMC,EAAQ,IAAIC,OAAO,oOAA4C,KACrE,OAAOF,EAAOG,QAAQF,EAAO,6BCIzBhE,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCrB,iBAAkB,CACdsF,WAAY,OACZC,aAAc,WAgCPC,EA5BU,SAACtD,GACtB,IAAMC,EAAUhB,IACZsE,EAAc,GACZjG,EAAQ0C,EAAMc,KAAKU,OAAO,GAehC,OAdId,OAAOC,KAAKvD,GAAYsE,SAASpE,IACjCF,EAAWE,GAAOS,WAAWyF,SAAQ,SAAAC,GACjCrG,EAAWE,GAAOS,YACXX,EAAWE,GAAOS,WAAW2D,SAAS+B,IACtCrG,EAAWE,GAAOQ,mBAAqB2F,GAC9CF,EAAYG,KACR,kBAACC,EAAA,EAAD,CAAYpB,QAAQ,QAAQqB,MAAM,cAAcjB,UAAU,KACpD3C,EAAMc,KAAK/C,WAAW0F,QAMxCI,QAAQC,IAAK9D,EAAMc,KAAK/C,WAAWX,EAAWE,GAAOQ,mBAEjD,6BACI,kBAAC6F,EAAA,EAAD,CAAYlB,UAAWxC,EAAQnC,iBAAkByE,QAAQ,QAAQqB,MAAM,cAAcjB,UAAU,KACzFI,EAAQ/C,EAAMc,KAAK/C,WAAWX,EAAWE,GAAOQ,oBAEzDyF,ICbHtE,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACJ2E,SAAU,IACVC,UAAW,OACXC,OAAS,KAEXC,MAAO,CACLD,OAAQ,GAGVE,OAAQ,CACNC,UAAW,eACXC,WAAY,OACZC,WAAYnF,EAAMoF,YAAYC,OAAO,YAAa,CAChDC,SAAUtF,EAAMoF,YAAYE,SAASC,YAGzCC,WAAY,CACVP,UAAW,kBAEbQ,OAAQ,CACNpH,gBAAiBqH,IAAI,MAEvBC,YAAa,CACXC,WAAY,EACZC,cAAe,OA4DJlF,MAAMC,MAxDI,SAACC,GACxB,IAAMC,EAAUhB,IADkB,EAEFa,IAAMI,UAAS,GAFb,mBAQ9B3C,GAR8B,UAQtB,IACRqH,EAAS,GACTK,EAAY,GAChB,GAAIvE,OAAOC,KAAKvD,GAAYsE,SAAS1B,EAAMc,KAAKU,OAAO,IAAK,CAC1D,IAAMlE,EAAQ0C,EAAMc,KAAKU,OAAO,GAChCjE,EAAQH,EAAWE,GAAOC,MAC1BqH,EAASxH,EAAWE,GAAOG,KAC3BwH,EACE,uBACEC,KAAMlF,EAAMc,KAAK/C,WAAWX,EAAWE,GAAOM,mBAC9CsD,OAAO,UAAU9D,EAAWE,GAAOO,eAIzC,OACE,kBAACsH,EAAA,EAAD,CAAM1C,UAAWxC,EAAQb,MACvB,kBAACgG,EAAA,EAAD,CACER,OACE,kBAACS,EAAA,EAAD,CAAQC,aAAW,SAAS7C,UAAWxC,EAAQ2E,OAAQrH,MAAOA,GAC3DqH,GAGLW,OACE,kBAACC,EAAA,EAAD,CAAYF,aAAW,YACrB,kBAAC,IAAD,CAAcrD,QAAS,kBAAMjC,EAAMyF,gBAAgBzF,EAAMc,KAAKC,QAGlEkE,UAAW,kBAACtB,EAAA,EAAD,KAAasB,KAE1B,kBAACS,EAAA,EAAD,CAAajD,UAAWxC,EAAQ6E,aAC9B,kBAAC,EAAD,CAAkBhE,KAAMd,EAAMc,OAC9B,kBAAC6E,EAAA,EAAD,CAASpI,MAAO,CAACqI,UAAW,KAC5B,kBAAC,EAAD,CACE9E,KAAMd,EAAMc,KACZV,OAAQJ,EAAMI,OACdI,OAAQR,EAAMQ,OACd0B,cAAelC,EAAMkC,qBAMd,SAACW,EAAWC,GAC3B,OAASD,EAAUzC,SAAW0C,EAAU1C,QAC/ByC,EAAUrC,SAAWsC,EAAUtC,QAC/BqC,EAAU/B,OAASgC,EAAUhC,QCjGpC+E,EAAe,SAAC7F,GACpB,IAAM8F,EAAY,CAChBxF,MAAOI,OAAOqF,OAAO/F,EAAMgG,aAAa3F,OAAOC,OAC/CtC,MAAO0C,OAAOqF,OAAO/F,EAAMgG,aAAa3F,OAAOE,QAG7C0F,EAAcjG,EAAMiG,YAAY5F,OA0DpC,OAxDAyF,EAAUxF,MAAQwF,EAAUxF,MAAMM,KAAI,SAACE,GAqBrC,OAjBImF,EAAYvE,SAASZ,EAAKC,KAC7BD,EAAKoF,KAAO,IACZpF,EAAKqF,UAAY,IACjBrF,EAAKsF,cAAgB,SAACC,GACrB,OAAO,kBAAC,EAAD,CACGvF,KAAMuF,EACNjG,OAAQJ,EAAMgG,aACdxF,OAAQR,EAAMsG,eACdpE,cAAelC,EAAMkC,cACrBuD,gBAAiBzF,EAAMyF,qBAEjC3E,EAAKnD,IAAM4I,EAAWzF,EAAKU,OAAO,IAAI7D,IACtCmD,EAAKoF,KAAO,IACZpF,EAAKpD,SAAW,GAChBoD,EAAKqF,UAAYpD,EAAQjC,EAAK/C,WAAWwI,EAAWzF,EAAKU,OAAO,IAAI1D,oBAG/DgD,KAIRgF,EAAU9H,MAAQ8H,EAAU9H,MAAM4C,KAAI,SAAC4F,GAGrC,GAAwD,IAApDnI,EAAmBmI,EAAKrF,MAAMpD,WAAW0I,OAAc,CAGxD,IADA,IAAInJ,EAAQ,GACZ,MAAmBoD,OAAOqF,OAAQ1H,EAAmBmI,EAAKrF,MAAMpD,YAAhE,eAA8E,CAAxE,IAAI2I,EAAK,KACbpJ,EAAQA,EAAQkJ,EAAKzI,WAAW2I,GAAS,IAE3CF,EAAKlJ,MAAQA,EACbuG,QAAQC,IAAI,cAAe0C,EAAKlJ,MAAOkJ,QAGvCA,EAAKlJ,MAAQ+E,EAAUmE,EAAKrF,KAAM,MAErC,OAAOqF,KAgBHV,GAiDMhG,MAAMC,MA9CN,SAACC,GAGd,IAAM2G,EAAW,CACf1C,OAAQ2C,OAAOC,YAAc,IAC7BC,MAAM,OACNC,4BAA4B,EAE5BjG,KAAM,CACJkG,cAAe,aAWjB,GAAM,CACJ,WAAc,IACd,aAAgB,IAElBR,KAAM,CACJS,eAAgB,YAChBC,aAAa,EACbF,cAAe,UAKnB,OAAO,kBAAC,QAAD,CACLG,OAAQR,EACR5F,GAAG,UACHqG,KAAMvB,EAAa7F,GACnBqH,kBAAoB,SAACC,GAAYtH,EAAMuH,YAAYD,SAItC,SAACzE,EAAWC,GAC3B,OAAQD,EAAUmD,eAAiBlD,EAAUkD,cACjCnD,EAAUyD,iBAAmBxD,EAAUwD,gBACvCzD,EAAUoD,cAAgBnD,EAAUmD,eCrH3C,SAASuB,EAAQC,EAAQC,GAoB5B,OAnBAD,EAAOE,QAAQnE,SAAQ,SAACmE,EAASC,GAC7BD,EAAQhH,KAAK6C,SAAQ,SAAC3C,GAClB,IAAMgH,EAAQF,EAAQG,IAAIjH,GACtBgH,EAAME,eAAe,SACrBL,EAAMnH,MAAMsH,EAAMG,SAASC,KAAO,CAC9BhH,OAAQ4G,EAAMK,MAAMD,IACpB/G,OAAQ2G,EAAMM,IAAIF,IAClB9G,KAAM0G,EAAM1G,KACZpD,WAAY8J,EAAM9J,YAGtB2J,EAAMpH,MAAMuH,EAAMG,SAASC,KAAO,CAC9BlH,GAAI8G,EAAMG,SAASC,IACnBzG,OAAQqG,EAAMrG,OACdzD,WAAY8J,EAAM9J,kBAK3B2J,EAEJ,SAASU,GAAgBhI,EAAQI,GAOpC,OANAE,OAAOC,KAAKH,EAAOD,OAAOiD,SAAQ,SAAC3C,GAC3BH,OAAOC,KAAKP,EAAOE,OAAOoB,SAASlB,EAAOD,MAAMM,GAAKI,OAAOD,aAC5DN,OAAOC,KAAKP,EAAOE,OAAOoB,SAASlB,EAAOD,MAAMM,GAAKK,OAAOF,cAC5DZ,EAAOG,MAAMM,GAAOL,EAAOD,MAAMM,OAGlCT,E,IC2JIiI,G,4MA9KbC,OAASC,IAAMD,OAAO,8B,EAEtBE,MAAQ,CACNxC,aAAcyC,IAAUC,OAAO,CAACpI,MAAO,GAAIC,MAAO,KAClD+F,eAAgBmC,IAAUC,OAAO,CAACpI,MAAO,GAAIC,MAAO,KACpD0F,YAAawC,IAAUC,OAAO,CAAC,KAAM,MAAO,U,EAc9CC,YAAc,WACZ,EAAKC,SAAS,CAAC5C,aAAcyC,IAAUC,OAAO,CAACpI,MAAO,GAAIC,MAAO,KAClD+F,eAAgBmC,IAAUC,OAAO,CAACpI,MAAO,GAAIC,MAAO,Q,EAGrEsI,QAAU,SAACC,GACT,EAAKC,aAAaD,I,EAGpBC,aAAe,SAACC,GACd,IAAMC,EAAU,EAAKX,OAAOW,UAC5BA,EACGC,IAAIF,GACJG,MAAK,SAAA1B,GACJ,IAAI2B,EAAsBC,EAAW5B,EAAQ,EAAKe,MAAMxC,aAAa3F,QAC/DiJ,EAAW5I,OAAOC,KAAKyI,EAAoB9I,OAAOU,WACxD,EAAKuI,gBAAgBD,EAAUF,EAAqB,EAAKZ,MAAMlC,eAAejG,WAE/EmJ,OAAM,SAAAC,GACL5F,QAAQC,IAAI2F,MAEbN,MAAK,kBAAMF,EAAQS,Y,EAIxBH,gBAAkB,SAACD,EAAUF,EAAqB9C,GACvB,EAAKgC,OAAOW,UAElCC,IAAI,qCAAsCI,EAAU,oBACpDH,MAAK,SAAA1B,GACJ,IAAMkC,EAAwBN,EAAW5B,EACvCnB,GACF8C,EAAsBC,GAAmBD,EACvCO,GACF,EAAKf,SAAS,CACZ5C,aAAcyC,IAAUC,OAAOU,GAC/B9C,eAAgBmC,IAAUC,OAAOiB,S,EAMzCC,YAAc,SAACC,EAAKzJ,EAAQI,GAC1BqJ,EAAIrG,SAAQ,SAACzC,GACXX,EAAOG,MAAMQ,GAAMP,EAAOD,MAAMQ,GAChCX,EAAOE,MAAMF,EAAOG,MAAMQ,GAAIE,QAAUT,EAAOF,MAAME,EAAOD,MAAMQ,GAAIE,QACtEb,EAAOE,MAAMF,EAAOG,MAAMQ,GAAIG,QAAUV,EAAOF,MAAME,EAAOD,MAAMQ,GAAIG,WAExE,IAAIkI,EAAsBC,GAAmBjJ,EAAQI,GAGrD,OAFA,EAAK+I,gBAAgBM,EAAKT,EAAqB,EAAKZ,MAAMlC,eAAejG,QACzE+I,EAAsBC,GAAmBD,EAAqB,EAAKZ,MAAMlC,eAAejG,S,EAgB1FyJ,eAAiB,SAACD,EAAKzJ,EAAQI,GAC7B,IAAMuJ,EAAgB,EAAKC,UAAU5J,EAAOE,MAAOF,EAAOG,MAAOsJ,GAWjE,OAVAA,EAAIrG,SAAQ,SAACzC,GACX,IAAIkJ,EAAe7J,EAAOE,MAAMF,EAAOG,MAAMQ,GAAIG,QAC5CR,OAAOC,KAAKoJ,GAAerI,SAASwI,OAAOD,EAAalJ,cACpDX,EAAOE,MAAMF,EAAOG,MAAMQ,GAAIG,eAC9Bd,EAAOG,MAAMQ,OAMjB,CAACX,EAAQI,I,EAGlB2J,kBAAoB,SAACN,GACnB,IAAMtJ,EAAQG,OAAOC,KAAK,EAAK6H,MAAMxC,aAAa3F,OAAOE,OACrDyF,EAAe,EAAKwC,MAAMxC,aAAa3F,OACvCiG,EAAiB,EAAKkC,MAAMlC,eAAejG,OAC3C+I,EAAsB,KAEtBS,EAAIO,OAAM,SAAAC,GAAE,OAAI9J,EAAMmB,SAAS2I,OAEjCjB,EADe,EAAKU,eAAeD,EAAK7D,EAAcM,GACzB,GAC7BuD,EAAMtJ,EAAMoB,QAAO,SAAA0I,GAAE,OAAKR,EAAInI,SAAS2I,OAEvCjB,EAAsB,EAAKQ,YAAYC,EAAK7D,EAAcM,GAE5D,EAAKsC,SAAS,CAAC5C,aAAcyC,IAAUC,OAAOU,M,EAGhDkB,gBAAkB,SAAChD,GACjB,IAAIrB,EAAc,EAAKuC,MAAMvC,YAAY5F,OACnCkK,EAAUtE,EAAYuE,QAAQC,SAASnD,IAI7C,OAHIiD,GAAW,GACbtE,EAAYyE,OAAOH,EAAS,GAEvBtE,G,EAGT0E,WAAa,SAACrD,GACZ,IAAIrB,EAAc,EAAKuC,MAAMvC,YAAY5F,OAKzC,OAHiB,IADD4F,EAAYuE,QAAQC,SAASnD,KAE3CrB,EAAYvC,KAAK+G,SAASnD,IAErBrB,G,EAGT2E,oBAAsB,SAACtD,GACrBzD,QAAQC,IAAI,mBAAoBwD,GAChC,IAAMrB,EAAc,EAAKqE,gBAAgBhD,GACzCzD,QAAQC,IAAI,8BAA+BmC,GAC3C,EAAK2C,SAAS,CAAC3C,YAAawC,IAAUC,OAAOzC,M,EAG/C4E,gBAAkB,SAACvD,GAKjB,GAJAzD,QAAQC,IAAI,eAAgBwD,GAC5BzD,QAAQC,IAAI2G,SAASnD,IACrBzD,QAAQC,IAAI,EAAK0E,MAAMvC,YAAY5F,QACnCwD,QAAQC,KAAK,EAAK0E,MAAMvC,YAAY5F,OAAOqB,SAAS+I,SAASnD,KACxD,EAAKkB,MAAMvC,YAAY5F,OAAOqB,SAAS+I,SAASnD,IAInDzD,QAAQC,IAAI,qBAJgD,CAC5D,IAAMmC,EAAc,EAAK0E,WAAWrD,GACpC,EAAKsB,SAAS,CAAC3C,YAAawC,IAAUC,OAAOzC,O,iEA5I9BpD,GACbA,EAAUiI,YAAcC,KAAK/K,MAAM8K,YACrCC,KAAKlC,QAAQkC,KAAK/K,MAAMgJ,aACxB+B,KAAK/K,MAAM6I,WAEThG,EAAUmI,eAAiBD,KAAK/K,MAAMgL,eACxCD,KAAKpC,cACLoC,KAAK/K,MAAMiL,gB,gCA0DL3K,EAAOC,EAAO2K,GACtB,IAAMC,EAAa,GAQnB,OAPAzK,OAAOC,KAAKL,GAAOkD,SAAQ,SAAA4H,GACzBF,EAAQ1H,SAAQ,SAAA6H,GACV/K,EAAM8K,GAASrK,KAAOR,EAAM8K,GAAQpK,QAAUX,EAAM8K,GAASrK,KAAOR,EAAM8K,GAAQnK,SACpFiK,EAAWC,GAAW9K,EAAM8K,UAI3BD,I,+BAyEP,IAAIzD,EAAQ,KAUZ,OATiE,IAA7DhH,OAAOC,KAAKoK,KAAKvC,MAAMxC,aAAa3F,OAAOC,OAAOmG,SACpDiB,EAAQ,kBAAC,EAAD,CACNxF,cAAe6I,KAAKZ,kBACpB1E,gBAAiBsF,KAAKH,oBACtBrD,YAAawD,KAAKF,gBAClB7E,aAAc+E,KAAKvC,MAAMxC,aACzBM,eAAgByE,KAAKvC,MAAMlC,eAC3BL,YAAa8E,KAAKvC,MAAMvC,eAG1B,6BACGyB,O,GAzKoB4D,a,qRCgBvBrM,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJmM,QAAS,QAEXC,OAAQ,CACNlM,WAAY,cACZmM,UAAW,OACXnH,WAAYnF,EAAMoF,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDkH,OAAQvM,EAAMoF,YAAYmH,OAAOC,MACjClH,SAAUtF,EAAMoF,YAAYE,SAASmH,iBAGzCC,YAAa,CACX/E,MAAM,eAAD,OAfW,IAeX,OACLzC,WAhBgB,IAiBhBC,WAAYnF,EAAMoF,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDkH,OAAQvM,EAAMoF,YAAYmH,OAAOI,QACjCrH,SAAUtF,EAAMoF,YAAYE,SAASsH,kBAGzCC,WAAY,CACVpI,MAAO,OACPqI,YAAa9M,EAAMQ,QAAQ,IAE7BuM,KAAM,CACJX,QAAS,QAEXY,OAAQ,CACNrF,MA9BgB,IA+BhBsF,WAAY,GAEdC,YAAa,CACXvF,MAlCgB,KAoClBwF,aAAa,2BACXf,QAAS,OACTgB,WAAY,SACZ/M,QAASL,EAAMQ,QAAQ,EAAG,IAEvBR,EAAMqN,OAAOC,SALN,IAMVC,eAAgB,aAElBC,QAAS,CACPC,SAAU,EACVpN,QAASL,EAAMQ,QAAQ,GACvB2E,WAAYnF,EAAMoF,YAAYC,OAAO,SAAU,CAC7CkH,OAAQvM,EAAMoF,YAAYmH,OAAOC,MACjClH,SAAUtF,EAAMoF,YAAYE,SAASmH,gBAEvCvH,YAnDgB,KAqDlBwI,aAAc,CACZvI,WAAYnF,EAAMoF,YAAYC,OAAO,SAAU,CAC7CkH,OAAQvM,EAAMoF,YAAYmH,OAAOI,QACjCrH,SAAUtF,EAAMoF,YAAYE,SAASsH,iBAEvC1H,WAAY,GAEdyI,UAAW,CACThG,MAAO,QACPpH,YAAa,EACbqN,aAAc,EACdC,OAAQ,iBACRC,aAAc,QAIH,SAASC,GAAqBlN,GAC3C,IAAMC,EAAUhB,KACVE,EAAQgO,eAFoC,EAG1BrN,IAAMI,UAAS,GAHW,mBAG3CkN,EAH2C,KAGrCC,EAHqC,KAalD,OACE,yBAAK5K,UAAWxC,EAAQb,MACtB,kBAACkO,GAAA,EAAD,MACA,kBAACC,GAAA,EAAD,CACEC,SAAS,QACT/K,UAAWgL,YAAKxN,EAAQuL,OAAT,gBACZvL,EAAQ4L,YAAcuB,KAGzB,kBAACM,GAAA,EAAD,KACE,kBAAClI,EAAA,EAAD,CACE5B,MAAM,UACN0B,aAAW,cACXrD,QArBe,WACvBoL,GAAQ,IAqBAM,KAAK,QACLlL,UAAWgL,YAAKxN,EAAQ+L,WAAYoB,GAAQnN,EAAQiM,OAEpD,kBAAC,KAAD,OAEF,kBAAC0B,GAAA,EAAD,CACArQ,MAAO,CAACqG,MAAO,QACfnB,UAAWxC,EAAQ6M,UACnBpG,MAAO1G,EAAM6N,WACbC,SAAU9N,EAAM+N,uBAChBC,YAAY,YACZC,WAAY,CACVC,kBAAkB,EAClBC,WAAY,CACV,aAAc,aAIpB,kBAACC,GAAA,EAAD,CAASC,MAAM,UACb,kBAAC7I,EAAA,EAAD,CAAYF,aAAW,SAASrD,QAASjC,EAAMsO,eAC7C,kBAAC,KAAD,QAGJ,kBAACF,GAAA,EAAD,CAASC,MAAM,SACb,kBAAC7I,EAAA,EAAD,CAAYF,aAAW,QAAQrD,QAASjC,EAAMuO,kBAC5C,kBAAC,KAAD,QAGJ,kBAACH,GAAA,EAAD,CAASC,MAAM,SACb,kBAAC7I,EAAA,EAAD,CAAYF,aAAW,QAAQrD,QAASjC,EAAMwO,kBAC5C,kBAAC,KAAD,UAKN,kBAACC,GAAA,EAAD,CACEhM,UAAWxC,EAAQkM,OACnB5J,QAAQ,aACRmM,OAAO,OACPtB,KAAMA,EACNnN,QAAS,CACPV,MAAOU,EAAQoM,cAGjB,yBAAK5J,UAAWxC,EAAQqM,cACtB,kBAAC9G,EAAA,EAAD,CAAYvD,QA/DM,WACxBoL,GAAQ,KA+DqB,QAApBlO,EAAMwP,UAAsB,kBAAC,KAAD,MAAsB,kBAAC,KAAD,QAGvD,kBAAChJ,EAAA,EAAD,MACA,kBAACjD,EAAA,EAAD,KACC,CAAC,0BAA0B9B,KAAI,SAACgO,EAAMC,GAAP,OAC9B,kBAAC9M,EAAA,EAAD,CAAUlB,IAAK+N,GACb,kBAACzM,EAAA,EAAD,CAAcC,QAASwM,SAK7B,kBAAClM,EAAA,EAAD,KACI,kBAACkL,GAAA,EAAD,CACC7M,GAAG,QACHzD,MAAM,QACNiF,QAAQ,WACRuM,WAAS,EACTpI,MAAO1G,EAAMgJ,YACb8E,SAAU9N,EAAM+O,+BAErB,kBAACrM,EAAA,EAAD,KACE,kBAACsM,GAAA,EAAD,CAAQzM,QAAQ,YACRE,UAAWxC,EAAQgP,SACnBhN,QAASjC,EAAMsO,cACfY,UAAW,kBAAC,KAAD,OAHnB,eAMF,0BAAM3R,MAAO,CAACiC,QAAS,EAAGyE,OAAQ,QAChCxB,UAAWgL,YAAKxN,EAAQ0M,QAAT,gBACZ1M,EAAQ4M,aAAeO,KAG1B,yBAAK3K,UAAWxC,EAAQqM,eACvBtM,EAAMmP,W,cC9LTC,GAAQC,EAAQ,KAASC,QAyHhBC,G,4MArHb/G,MAAQ,CACNQ,YAAa,8FACb6E,WAAY,GACZhF,SAAS,EACT2G,YAAY,EACZC,YAAa,GACbC,gBAAgB,G,EAmBlBX,4BAA8B,SAACY,GAC7B,EAAK/G,SAAS,CAACI,YAAa2G,EAAMzO,OAAOwF,S,EAG3CqH,uBAAyB,SAAC4B,GACxB,IAAI7G,EAAQ,uCAAyC6G,EAAMzO,OAAOwF,MAAMkJ,cAAgB,eACxF,EAAKhH,SAAS,CAACiF,WAAY8B,EAAMzO,OAAOwF,MAAOsC,YAAaF,K,EAG9D+G,uBAAyB,SAACF,EAAOjJ,GAC/B,EAAK8H,mBACL,IACI1F,EAAQ,6BADA,EAAKN,MAAMiH,YAAY/I,EAAQ,GACMoJ,OAAS,aAC1D,EAAKlH,SAAS,CAACI,YAAaF,IAC5B,EAAKwF,iB,EAGPyB,UAAY,SAACC,GACXZ,GAAMtH,IAAIkI,EAAUC,IAAK,CACvBC,OAAQ,CACNC,MAAOH,EAAUG,SAGpBhH,MAAK,SAAAiH,GAEJvM,QAAQC,IAAIsM,GACZ,IAAItH,EAAQ,6BAA+BsH,EAAShJ,KAAK,GAAG0I,OAAS,aACrEjM,QAAQC,IAAIgF,GACZ,EAAKF,SAAS,CAAC6G,YAAaW,EAAShJ,KAAMsI,gBAAgB,EAAM1G,YAAaF,IAC9E,EAAKwF,mBAEN9E,OAAM,SAAAC,GAEL5F,QAAQC,IAAI,uDAAyD2F,EAAM4G,a,EAI/E/B,cAAgB,WACd,EAAK1F,SAAS,CAACC,SAAS,IACxBhF,QAAQC,IAAI,qBACZD,QAAQC,IAAI,mBAAoB,EAAK0E,MAAMK,U,EAG7CA,QAAU,WACR,EAAKD,SAAS,CAACC,SAAS,K,EAG1B2F,iBAAmB,WACjB,EAAK5F,SAAS,CAAC4G,YAAY,K,EAG7BvE,WAAa,WACX,EAAKrC,SAAS,CAAC4G,YAAY,K,EAG7BjB,iBAAmB,WACjB,EAAKC,mBACL,EAAKF,iB,EAGPgC,iBAAmB,WACjB,OACA,kBAACC,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,UACtB,kBAACC,GAAA,EAAD,CAAYC,MAAO,EAAKnI,MAAMiH,YAAYhJ,OAAQqH,SAAU,EAAK+B,uBAAwB3J,KAAK,QAAQ0K,iBAAe,EAACC,gBAAc,M,kEA9EtI,IAAIb,EAAac,KAAYC,MAAMnK,OAAOoK,SAASC,OAAQ,CAACC,QAAQ,IAChEpI,EAAQ,GACZjF,QAAQC,IAAI,aAAckM,GACtBA,EAAU1P,OACZwI,EAAQ,6BAA+BkH,EAAU1P,MAAQ,aACzDuD,QAAQC,IAAI,QAASgF,GACrBiC,KAAKnC,SAAS,CAACI,YAAaF,IAC5BiC,KAAKuD,iBAEE0B,EAAUC,MACjBpM,QAAQC,IAAI,YAAakM,GACzBjF,KAAKgF,UAAUC,M,+BAyEjB,OACE,yBAAKvN,UAAU,OACb,kBAAC,GAAD,CACEuG,YAAa+B,KAAKvC,MAAMQ,YACxB+F,4BAA6BhE,KAAKgE,4BAClClB,WAAY9C,KAAKvC,MAAMqF,WACvBE,uBAAwBhD,KAAKgD,uBAC7BO,cAAevD,KAAKuD,cACpBC,iBAAkBxD,KAAKwD,iBACvBC,iBAAkBzD,KAAKyD,kBACvB,kBAAC,GAAD,CACExF,YAAa+B,KAAKvC,MAAMQ,YACxB8B,UAAWC,KAAKvC,MAAMK,QACtBA,QAASkC,KAAKlC,QACdmC,aAAcD,KAAKvC,MAAMgH,WACzBvE,WAAYF,KAAKE,aAChBF,KAAKvC,MAAMkH,eAAgB3E,KAAKuF,mBAAqB,W,GAhHhDhF,aCCE6F,QACW,cAA7BvK,OAAOoK,SAASI,UAEe,UAA7BxK,OAAOoK,SAASI,UAEhBxK,OAAOoK,SAASI,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB1I,MAAK,SAAA2I,GACJA,EAAaC,gBAEdvI,OAAM,SAAAC,GACL5F,QAAQ4F,MAAMA,EAAM4G,c","file":"static/js/main.69c67239.chunk.js","sourcesContent":["import ru from './translationFiles/ru.json'\n\nconst tranlate_word = (word, language) => {\n    if (language == 'ru') {\n        return ru[word]\n    }        \n}\n\nexport default tranlate_word;","import React from 'react'\nimport BusinessIcon from '@material-ui/icons/Business';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport GavelIcon from '@material-ui/icons/Gavel';\n\n\n\nconst cardConfig = {\n    KgMinjust: {\n        label: 'KgMinjust',\n        style: {backgroundColor: '#fbc02d'},\n        icon: <BusinessIcon  style={{ fontSize: 30 }}/>,\n        svg: 'https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/businessYellow.svg',\n        subHeaderUrlParam: 'url',\n        subHeaderText: 'Минюст',\n        contentTextParam: 'name_ru',\n        properties: ['name_ru', 'inn', 'head_name_sur', 'street'],\n        links: ['CONTROLS', 'DIRECTOR', 'SAME_INN']\n    },\n    KgMinjustParticipants: {\n        label: 'KgMinjustParticipants',\n        style: {backgroundColor: '#fbc02d'},\n        icon: <AccountCircleIcon style={{ fontSize: 30 }}/>,\n        svg: 'https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/accountYellow.svg',\n        subHeaderUrlParam: 'org_url',\n        subHeaderText: 'Минюст',\n        contentTextParam: 'name',\n        properties: ['name'],\n        links: ['CONTROLS', 'NAME_SAKE', 'PROBABLE_FATHER', 'PROBABLE_SIBLING', 'PROBABLE_KID']\n    },\n    HeadNameSur: {\n        label: 'HeadNameSur',\n        style: {backgroundColor: '#fbc02d'},\n        icon: <AccountCircleIcon  style={{ fontSize: 30 }}/>,\n        svg:  'https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/accountYellow.svg',\n        subHeaderUrlParam: '',\n        subHeaderText: 'Минюст',\n        contentTextParam: 'head_name_sur',\n        properties: ['head_name_sur'],\n        links: ['DIRECTOR', 'NAME_SAKE', 'PROBABLE_FATHER', 'PROBABLE_SIBLING', 'PROBABLE_KID']\n    },\n    KgProcurementParticipants: {\n        label: 'KgProcurementParticipants',\n        style: {backgroundColor: '#00897b'},\n        icon: <BusinessIcon style={{ fontSize: 30 }}/>,\n        svg: 'https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/busiessGreen.svg',\n        subHeaderUrlParam: '',\n        subHeaderText: 'Гос. закупки',\n        contentTextParam: 'name',\n        properties: ['inn'],\n        links: ['PARTICIPATED_IN', 'PARTICIPATED_IN', 'NAME_SAKE_INDIVIDUAL']\n    }, \n    KgProcurementLots: {\n        label: 'KgProcurementLots',\n        style: {backgroundColor: '#00897b'},\n        icon: <GavelIcon style={{ fontSize: 30 }}/>,\n        svg:  'https://raw.githubusercontent.com/aleks-walker/graph-montecristo-config/8f8c6843a73515bd2deb47f4b80b8cdf9c0d2451/gavelGreen.svg',\n        subHeaderUrlParam: 'tender_url',\n        subHeaderText: 'Гос. закупки',\n        contentTextParam: 'lot_name',\n        properties: ['lot_name'],\n        links: ['PARTICIPATED_IN', 'INCLUDES_LOTS']\n    }\n}\n\nexport default cardConfig\n\n\nexport const relationshipConfig = {\n    \n    CONTROLS: {\n        properties: []\n    },\n    ANNOUNCED: {\n        properties: []\n    },\n    DIRECTOR: {\n        properties: []\n    },\n    INCLUDES_LOTS: {\n        properties: []\n    },\n    NAME_SAKE: {\n        properties: []\n    },\n    NAME_SAKE_INDIVIDUAL: {\n        properties: []\n    },\n    PROBABLE_FATHER: {\n        properties: []\n    },\n    PARTICIPATED_IN: {\n        properties: ['proposed_price', 'result']\n    },\n    PROBABLE_SIBLING: {\n        properties: []\n    },\n    PROBABLE_KID: {\n        properties: []\n    },\n    SAME_INN: {\n        properties: []\n    },\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport SendIcon from '@material-ui/icons/Send';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport StarBorder from '@material-ui/icons/StarBorder';\n\nimport BubbleChartIcon from '@material-ui/icons/BubbleChart';\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\n\nimport translate from './utils/translate'\nimport cardConfig from '../config'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    padding: '1px',\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n    padding: '1px'\n  },\n  listItemIcon: {\n    minWidth: 'auto'\n  }\n}));\n\nconst NestedLinks = (props) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  // console.log(props.node)\n  // console.log(props.vGraph.toJS())\n  // console.log(props.iGraph.toJS()) \n\n  const vNodes = props.vGraph.toJS().nodes\n  const vEdges = props.vGraph.toJS().edges\n\n  const iNodes = props.iGraph.toJS().nodes\n  const iEdges = props.iGraph.toJS().edges\n  \n\n  let listOfRelationships = Object.keys(iEdges).map((key) => {\n    if (props.node.id.toString() == iEdges[key].source.toString() || props.node.id.toString() == iEdges[key].target.toString()){\n      return iEdges[key].type\n    }\n  }).reduce(function(obj, relation){\n      if (!obj[relation]) {\n          obj[relation] = 1;\n      } else {\n          obj[relation]++;\n      }\n      return obj;\n  }, {});\n\n   //Delete 'undefined' in listOfRelationships\n   listOfRelationships = Object.keys(listOfRelationships).reduce((object, key) => {\n    if (key !== 'undefined') {\n      object[key] = listOfRelationships[key]\n    }\n    return object\n  }, {})\n \n  const getKeyRelationshipIds = (type) => {\n    let keys = Object.keys(iEdges).map((key) => {\n      if ((iEdges[key].type == type) && (props.node.id.toString() == iEdges[key].source.toString() || props.node.id.toString() == iEdges[key].target.toString())){\n        return key\n      }\n    })\n\n    keys = keys.filter(function( element ) {\n      return element !== undefined;\n    });\n\n    return keys\n  };\n\n  const label = props.node.labels[0]\n\n  let listOfLinks = Object.keys(listOfRelationships).map((key) => {\n    if (cardConfig[label] \n        && cardConfig[label].links \n        && cardConfig[label].links.includes(key)) {\n      const keys = getKeyRelationshipIds(key)\n          \n      return(\n        <ListItem style={{padding: '1px'}} button onClick={() => props.onButtonClick(keys)}>          \n          <ListItemText primary={translate(key, 'ru') + ' (' + listOfRelationships[key] + ')'} primaryTypographyProps={{variant:\"body2\"}} />\n          <ListItemIcon className={classes.listItemIcon}>\n            <AccountTreeIcon />\n          </ListItemIcon>\n        </ListItem>)\n    }\n  })\n\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={classes.root}\n    >\n      {listOfLinks}\n    </List>\n  );\n}\n\nconst areEqual = (prevProps, nextProps) => {\n  return ((prevProps.vGraph === nextProps.vGraph) && \n          (prevProps.iGraph === nextProps.iGraph) &&\n          (prevProps.node === nextProps.node));\n}\n\nexport default React.memo(NestedLinks, areEqual);","const shorten = (phrase) => {\n  const regex = new RegExp(\"общество с ограниченной ответственностью\", \"i\")\n  return phrase.replace(regex, \"ОсОО\")\n}\n\nexport default shorten;","import React from 'react'\nimport Typography from '@material-ui/core/Typography';\nimport cardConfig from '../config'\nimport shorten from './utils/shorten'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    contentTextParam: {\n        fontWeight: \"bold\",\n        marginBottom: \"5px\"\n    }\n}));\n\nconst NestedProperties = (props) => {\n    const classes = useStyles();\n    let listOfProps = []\n    const label = props.node.labels[0]\n    if (Object.keys(cardConfig).includes(label)) {\n        cardConfig[label].properties.forEach(prop => {\n        if (cardConfig[label].properties \n                && cardConfig[label].properties.includes(prop)\n                && cardConfig[label].contentTextParam !== prop) {\n            listOfProps.push(\n                <Typography variant=\"body2\" color=\"textPrimary\" component=\"p\">\n                    { props.node.properties[prop] }\n                </Typography>\n            )\n        }\n        });\n    }\n    console.log( props.node.properties[cardConfig[label].contentTextParam] )\n    return (\n        <div>\n            <Typography className={classes.contentTextParam} variant=\"body2\" color=\"textPrimary\" component=\"p\" >\n                { shorten(props.node.properties[cardConfig[label].contentTextParam]) }\n            </Typography>\n        {listOfProps}\n        </div>\n    )\n}\n\nexport default NestedProperties","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { red } from '@material-ui/core/colors';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MinimizeIcon from '@material-ui/icons/Minimize';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport Divider from '@material-ui/core/Divider'\n\nimport NestedLinks from './NestedLinks'\nimport shorten from './utils/shorten'\nimport NestedProperties from './NestedProperties'\nimport cardConfig from '../config'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      maxWidth: 240,\n      textAlign: \"left\",\n      height : 320\n    },\n    media: {\n      height: 0,\n      // paddingTop: '56.25%', // 16:9\n    },\n    expand: {\n      transform: 'rotate(0deg)',\n      marginLeft: 'auto',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest,\n      }),\n    },\n    expandOpen: {\n      transform: 'rotate(180deg)',\n    },\n    avatar: {\n      backgroundColor: red[500],\n    },\n    cardContent: {\n      paddingTop: 0,\n      paddingBottom: 0\n    }\n  }));\n\n  const RecipeReviewCard = (props) => {\n    const classes = useStyles();\n    const [expanded, setExpanded] = React.useState(false);\n  \n    const handleExpandClick = () => {\n      setExpanded(!expanded);\n    };\n\n    let style = {}\n    let avatar = ''\n    let subheader = ''\n    if (Object.keys(cardConfig).includes(props.node.labels[0])) {\n      const label = props.node.labels[0]\n      style = cardConfig[label].style \n      avatar = cardConfig[label].icon \n      subheader =\n        <a \n          href={props.node.properties[cardConfig[label].subHeaderUrlParam]} \n          target=\"_blank\">{cardConfig[label].subHeaderText}\n        </a>\n    }\n  \n    return (\n      <Card className={classes.root}>\n        <CardHeader\n          avatar={\n            <Avatar aria-label=\"recipe\" className={classes.avatar} style={style}>\n              {avatar}\n            </Avatar>\n          }\n          action={\n            <IconButton aria-label=\"settings\">\n              <MinimizeIcon onClick={() => props.onMinimizeClick(props.node.id)}/>\n            </IconButton>\n          }\n          subheader={<Typography>{subheader}</Typography>} \n        />\n        <CardContent className={classes.cardContent}>\n          <NestedProperties node={props.node}/>\n          <Divider style={{marginTop: 8}} />\n          <NestedLinks\n            node={props.node}\n            vGraph={props.vGraph}\n            iGraph={props.iGraph}\n            onButtonClick={props.onButtonClick}  />\n        </CardContent>\n      </Card>\n    );\n  }\n  \n  const areEqual = (prevProps, nextProps) => {\n    return ((prevProps.vGraph === nextProps.vGraph) && \n            (prevProps.iGraph === nextProps.iGraph) &&\n            (prevProps.node === nextProps.node));\n  }\n  \n  export default React.memo(RecipeReviewCard, areEqual);","import React from \"react\";\nimport {Graph} from \"react-d3-graph\";\nimport Card from '../Cards/Card';\nimport CardConfig from '../config';\nimport translate from '../Cards/utils/translate';\nimport shorten from '../Cards/utils/shorten';\nimport { relationshipConfig } from '../config';\n\nconst displayGraph = (props) => {\n  const dispGraph = {\n    nodes: Object.values(props.visibleGraph.toJS().nodes),\n    links: Object.values(props.visibleGraph.toJS().edges),\n  }\n\n  let cardNodeIds = props.cardNodeIds.toJS()\n  //console.log('mgraph card nodes: ', cardNodeIds)\n  dispGraph.nodes = dispGraph.nodes.map((node) => {\n\n    // if node.id is in array, apply viewGenerator\n\n    if (cardNodeIds.includes(node.id)) { \n     node.size = 3000;\n     node.dispLabel = \" \"\n     node.viewGenerator = (n) => {\n      return <Card \n                node={n}\n                vGraph={props.visibleGraph} \n                iGraph={props.invisibleGraph} \n                onButtonClick={props.onButtonClick}\n                onMinimizeClick={props.onMinimizeClick} />\n    }} else { // else return SVG icon \n      node.svg = CardConfig[node.labels[0]].svg\n      node.size = 600\n      node.fontSize = 16\n      node.dispLabel = shorten(node.properties[CardConfig[node.labels[0]].contentTextParam])\n    }\n\n    return node\n   })\n\n\n   dispGraph.links = dispGraph.links.map((link) => {\n\n      // if PARTICIPATED_IN.properties not empty\n     if (relationshipConfig[link.type].properties.length !== 0) {\n        \n        let label = ''\n        for ( let value of Object.values((relationshipConfig[link.type].properties))) { // for [proposed_price, result]\n          label = label + link.properties[value] + ' '\n        }\n        link.label = label\n        console.log(\"LINK LABLES\", link.label, link)\n     }\n     else {\n        link.label = translate(link.type, 'ru')\n     }\n     return link\n    })\n\n\n     /* DO NOT DELETE\n     \n     if (Object.keys(link.properties).length !== 0) {\n        link.label = Object.values(link.properties).join(\" \")\n     }\n     else {\n      link.label = translate(link.type, 'ru')\n    }\n     console.log('LINK', link)\n     return link\n   }) */\n\n  return dispGraph\n};\n\nconst MGraph = (props) => {\n  \n\n  const myConfig = {\n    height: window.innerHeight - 110,\n    width:'100%',\n    staticGraphWithDragAndDrop: true,\n    // nodeHighlightBehavior: true,\n    node: {\n      labelProperty: \"dispLabel\"\n    },\n    //   color: \"lightgreen\",\n    //   labelProperty: 'label',\n    //   highlightStrokeColor: \"blue\",\n    //   size: 3300,\n    //   fontSize: 16\n    //\n    //\n    // }\n    // ,\n    \"d3\": {\n      \"linkLength\": 300,\n      \"linkStrength\": 0.1,\n    },\n    link: {\n      highlightColor: \"lightblue\",\n      renderLabel: true,\n      labelProperty: 'label'\n\n    },\n  };\n\n  return <Graph\n    config={myConfig}\n    id=\"d3graph\" // id is mandatory, if no id is defined rd3g will throw an error\n    data={displayGraph(props)}\n    onDoubleClickNode ={(nodeId) => {props.onNodeClick(nodeId)}}\n  />\n}\n\nconst areEqual = (prevProps, nextProps) => {\n  return (prevProps.visibleGraph === nextProps.visibleGraph) \n          && (prevProps.invisibleGraph === nextProps.invisibleGraph)\n          && (prevProps.cardNodeIds === nextProps.cardNodeIds)\n}\n\nexport default React.memo(MGraph, areEqual);\n\n","\nexport function toGraph(result, graph) {\n    result.records.forEach((records, i) => {\n        records.keys.forEach((key) => {\n            const nodge = records.get(key)\n            if (nodge.hasOwnProperty('start')) { //Check if it is edge\n                graph.edges[nodge.identity.low] = {\n                    source: nodge.start.low,\n                    target: nodge.end.low,\n                    type: nodge.type,\n                    properties: nodge.properties\n                }\n            } else {\n                graph.nodes[nodge.identity.low] = {\n                    id: nodge.identity.low,\n                    labels: nodge.labels,\n                    properties: nodge.properties\n                }\n            }\n        })\n    })\n    return graph;\n}\nexport function reconcileGraphs(vGraph, iGraph) {\n    Object.keys(iGraph.edges).forEach((key) => {\n        if (Object.keys(vGraph.nodes).includes(iGraph.edges[key].source.toString()) &&\n            Object.keys(vGraph.nodes).includes(iGraph.edges[key].target.toString())) {\n            vGraph.edges[key] = iGraph.edges[key]\n        }\n    })\n    return vGraph\n}\n","import React, { Component } from 'react';\n\nimport neo4j from 'neo4j-driver'\nimport Immutable from 'immutable'\n\nimport './my-svg.svg'\nimport MGraph from \"../MGraph/MGraph\";\nimport * as gh from './graphHelpers.js'\n\nclass GraphComponent extends Component{\n\n  driver = neo4j.driver('bolt://neo4j.kloop.io:7687')\n\n  state = {\n    visibleGraph: Immutable.fromJS({nodes: {}, edges: {}}),\n    invisibleGraph: Immutable.fromJS({nodes: {}, edges: {}}),\n    cardNodeIds: Immutable.fromJS([9350, 18766, 371947])\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.isGoClick !== this.props.isGoClick) {\n      this.goClick(this.props.cypherQuery)\n      this.props.goClick()\n    }\n    if (prevProps.isClearGraph !== this.props.isClearGraph) {\n      this.clearGraphs()\n      this.props.clearClick()\n    }\n  }\n\n  clearGraphs = () => {\n    this.setState({visibleGraph: Immutable.fromJS({nodes: {}, edges: {}}),\n                   invisibleGraph: Immutable.fromJS({nodes: {}, edges: {}})})\n  }\n\n  goClick = (query) => {\n    this.executeQuery(query)\n  }\n\n  executeQuery = (cypherQuery) => {\n    const session = this.driver.session()\n    session\n      .run(cypherQuery)\n      .then(result => {\n        let updatedVisibleGraph = gh.toGraph(result, this.state.visibleGraph.toJS())\n        const paramIDs = Object.keys(updatedVisibleGraph.nodes).toString()\n        this.updateInvisible(paramIDs, updatedVisibleGraph, this.state.invisibleGraph.toJS()) \n      })\n      .catch(error => {\n        console.log(error)\n      })\n      .then(() => session.close())\n\n  }\n\n  updateInvisible = (paramIDs, updatedVisibleGraph, invisibleGraph) => {\n    const invisibleSession = this.driver.session()\n    invisibleSession\n      .run(\"MATCH (n)-[r]-(b) WHERE ID(n) in [\"+ paramIDs +\"] RETURN n, r, b\")\n      .then(result => {\n        const updatedInvisibleGraph = gh.toGraph(result,\n          invisibleGraph)\n        updatedVisibleGraph = gh.reconcileGraphs(updatedVisibleGraph,\n          updatedInvisibleGraph)\n        this.setState({\n          visibleGraph: Immutable.fromJS(updatedVisibleGraph),\n          invisibleGraph: Immutable.fromJS(updatedInvisibleGraph)\n        })\n\n      })\n  }\n\n  mergeGraphs = (ids, vGraph, iGraph) => {\n    ids.forEach((id) => {\n      vGraph.edges[id] = iGraph.edges[id]\n      vGraph.nodes[vGraph.edges[id].source] = iGraph.nodes[iGraph.edges[id].source] \n      vGraph.nodes[vGraph.edges[id].target] = iGraph.nodes[iGraph.edges[id].target] \n    })\n    let updatedVisibleGraph = gh.reconcileGraphs(vGraph, iGraph)\n    this.updateInvisible(ids, updatedVisibleGraph, this.state.invisibleGraph.toJS())\n    updatedVisibleGraph = gh.reconcileGraphs(updatedVisibleGraph, this.state.invisibleGraph.toJS())\n    return updatedVisibleGraph\n  }\n\n  findNodes(nodes, edges, edgeIds) {\n    const foundNodes = {} \n    Object.keys(nodes).forEach(nodeKey => {\n      edgeIds.forEach(edgeId => {\n        if (nodes[nodeKey].id === edges[edgeId].source || nodes[nodeKey].id === edges[edgeId].target){\n          foundNodes[nodeKey] = nodes[nodeKey]\n        }\n      })\n    }) \n    return foundNodes\n  }\n\n  removeElements = (ids, vGraph, iGraph) => {\n    const innocentNodes = this.findNodes(vGraph.nodes, vGraph.edges, ids)\n    ids.forEach((id) => {\n      let nodeToRemove = vGraph.nodes[vGraph.edges[id].target]\n      if (!Object.keys(innocentNodes).includes(String(nodeToRemove.id))){\n        delete vGraph.nodes[vGraph.edges[id].target]\n        delete vGraph.edges[id]\n      }\n      // delete iGraph.nodes[iGraph.edges[id].source]\n      // delete iGraph.nodes[iGraph.edges[id].target]\n      // delete iGraph.edges[id]\n    })\n    return [vGraph, iGraph]\n  }\n\n  handleButtonClick = (ids) => {\n    const edges = Object.keys(this.state.visibleGraph.toJS().edges)\n    let visibleGraph = this.state.visibleGraph.toJS()\n    let invisibleGraph = this.state.invisibleGraph.toJS()\n    let updatedVisibleGraph = null\n    // if ids are already in visible graph\n    if (ids.every(el => edges.includes(el))) {\n      const graphs = this.removeElements(ids, visibleGraph, invisibleGraph)\n      updatedVisibleGraph = graphs[0]\n      ids = edges.filter(el => !ids.includes(el))\n    } else {\n      updatedVisibleGraph = this.mergeGraphs(ids, visibleGraph, invisibleGraph)\n    }\n    this.setState({visibleGraph: Immutable.fromJS(updatedVisibleGraph)})\n  }\n\n  removeFromArray = (nodeId) => {\n    let cardNodeIds = this.state.cardNodeIds.toJS()\n    const idIndex = cardNodeIds.indexOf(parseInt(nodeId))\n    if (idIndex > -1) {\n      cardNodeIds.splice(idIndex, 1)\n    }\n    return cardNodeIds\n  }\n\n  addToArray = (nodeId) => {\n    let cardNodeIds = this.state.cardNodeIds.toJS()\n    const idIndex = cardNodeIds.indexOf(parseInt(nodeId))\n    if (idIndex === -1) {\n      cardNodeIds.push(parseInt(nodeId))\n    }\n    return cardNodeIds\n  }\n\n  handleMinimezeClick = (nodeId) => {\n    console.log('minimize clicked', nodeId)\n    const cardNodeIds = this.removeFromArray(nodeId)\n    console.log('card nodes after minimize: ', cardNodeIds)\n    this.setState({cardNodeIds: Immutable.fromJS(cardNodeIds)})\n  }\n\n  handleNodeClick = (nodeId) => {\n    console.log('node clicked', nodeId)\n    console.log(parseInt(nodeId))\n    console.log(this.state.cardNodeIds.toJS())\n    console.log(!this.state.cardNodeIds.toJS().includes(parseInt(nodeId)))\n    if (!this.state.cardNodeIds.toJS().includes(parseInt(nodeId))){\n      const cardNodeIds = this.addToArray(nodeId)\n      this.setState({cardNodeIds: Immutable.fromJS(cardNodeIds)})\n    } else {\n      console.log('doing nothing')\n    }\n  }\n\n  render() {\n    let graph = null\n    if (Object.keys(this.state.visibleGraph.toJS().nodes).length !== 0) {\n      graph = <MGraph \n        onButtonClick={this.handleButtonClick}\n        onMinimizeClick={this.handleMinimezeClick}\n        onNodeClick={this.handleNodeClick}\n        visibleGraph={this.state.visibleGraph}\n        invisibleGraph={this.state.invisibleGraph}\n        cardNodeIds={this.state.cardNodeIds}/>\n    }\n    return(\n      <div>\n        {graph}\n      </div>\n    )\n  }\n\n}\n\nexport default GraphComponent","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport LoopIcon from '@material-ui/icons/Loop';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport SearchIcon from '@material-ui/icons/Search';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport Tooltip from '@material-ui/core/Tooltip'\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    background: 'transparent',\n    boxShadow: 'none',\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    color: 'gray',\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n  searchBar: {\n    width: '600px', \n    paddingLeft: 7, \n    paddingRight: 7,\n    border: '2px solid gray', \n    borderRadius: 25,\n  },\n}));\n\nexport default function PersistentDrawerLeft(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, open && classes.hide)}\n          >\n            <MenuIcon />\n          </IconButton>\n          <TextField\n          style={{color: 'grey'}}\n          className={classes.searchBar}\n          value={props.searchText}\n          onChange={props.handleSearchTextChange}\n          placeholder=\"Search...\"\n          InputProps={{\n            disableUnderline: true,\n            inputProps: {\n              'aria-label': \"Search\"\n            }\n          }}\n        />\n        <Tooltip title=\"Search\">\n          <IconButton aria-label=\"search\" onClick={props.handleGoClick}>\n            <SearchIcon />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"Reset\">\n          <IconButton aria-label=\"reset\" onClick={props.handleResetClick}>\n            <LoopIcon />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"Clear\">\n          <IconButton aria-label=\"clear\" onClick={props.handleClearClick}>\n            <ClearIcon />\n          </IconButton>\n        </Tooltip>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n        {['Enter your query below'].map((text, index) => (\n          <ListItem key={text}>\n            <ListItemText primary={text} />\n          </ListItem>\n          \n        ))}\n      </List>\n      <List>\n          <TextField\n           id=\"query\"\n           label=\"Query\"\n           variant=\"outlined\" \n           multiline\n           value={props.cypherQuery}\n           onChange={props.handleCypherQueryTextChange} />\n      </List>\n      <List>\n        <Button variant=\"contained\"\n                className={classes.GoButton}\n                onClick={props.handleGoClick}\n                startIcon={<PlayArrowIcon />}>Run Query</Button>\n      </List>\n      </Drawer>\n      <main style={{padding: 0, height: '100%'}}\n        className={clsx(classes.content, {\n          [classes.contentShift]: open,\n        })}\n      >\n        <div className={classes.drawerHeader} />\n        {props.children}\n      </main>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport './my-svg.svg'\nimport GraphComponent from './components/GraphComponent'\nimport Pagination from '@material-ui/lab/Pagination';\nimport queryString from 'query-string'\nimport AppSideBar from './SideBar/AppSideBar'\nimport Grid from '@material-ui/core/Grid'\n\nconst axios = require('axios').default;\n\nclass App extends Component {\n\n  state = {\n    cypherQuery: \"MATCH (n) where id(n) in [2437183, 18766, 2460290, 371947, 9350, 2437735, 1150073] return n\",\n    searchText: \"\",\n    goClick: false,\n    clearGraph: false,\n    listOfNodes: [],\n    showPagination: false\n  }\n\n  componentDidMount() { \n    let urlString =  queryString.parse(window.location.search, {decode: false})\n    let query = ''\n    console.log(\"URL STRING\", urlString)\n    if (urlString.nodes) {\n      query = \"MATCH (n) where id(n) in [\" + urlString.nodes + \"] return n\"\n      console.log(\"NODES\", query)\n      this.setState({cypherQuery: query})\n      this.handleGoClick()\n    }\n    else if (urlString.url) {\n      console.log(\"urlString\", urlString)\n      this.fetchData(urlString)\n    }\n  }\n\n  handleCypherQueryTextChange = (event) => {\n    this.setState({cypherQuery: event.target.value})\n  }\n\n  handleSearchTextChange = (event) => {\n    let query = \"MATCH (n) where n.text_search =~ '.*\" + event.target.value.toLowerCase() + \".*' return n\"\n    this.setState({searchText: event.target.value, cypherQuery: query})\n  }\n\n  handlePaginationChange = (event, value) => {\n    this.handleClearClick()\n    let nodes = this.state.listOfNodes[value - 1]\n    let query = \"MATCH (n) where id(n) in [\" + nodes.join() + \"] return n\"\n    this.setState({cypherQuery: query})\n    this.handleGoClick()\n  }\n\n  fetchData = (urlString) => {\n    axios.get(urlString.url, {\n      params: {\n        token: urlString.token\n      }\n    })\n    .then(response => {\n      // handle success\n      console.log(response);\n      let query = \"MATCH (n) where id(n) in [\" + response.data[0].join() + \"] return n\"\n      console.log(query)\n      this.setState({listOfNodes: response.data, showPagination: true, cypherQuery: query})\n      this.handleGoClick()\n    })\n    .catch(error => {\n      // handle error\n      console.log('There has been a problem with your fetch operation: ' + error.message);\n    })\n  }\n\n  handleGoClick = () => {\n    this.setState({goClick: true});\n    console.log('go button clicked')\n    console.log('state goClicked ', this.state.goClick)\n  }\n\n  goClick = () => {\n    this.setState({goClick: false})\n  }\n\n  handleClearClick = () => {\n    this.setState({clearGraph: true})\n  }\n\n  clearClick = () => {\n    this.setState({clearGraph: false})\n  }\n\n  handleResetClick = () => {\n    this.handleClearClick()\n    this.handleGoClick()\n  }\n\n  returnPagination = () => {\n    return (\n    <Grid container justify=\"center\" >\n      <Pagination count={this.state.listOfNodes.length} onChange={this.handlePaginationChange} size=\"small\" showFirstButton showLastButton />\n    </Grid>\n    )\n  }\n\n  render() {\n    return(\n      <div className='App'>\n        <AppSideBar \n          cypherQuery={this.state.cypherQuery}\n          handleCypherQueryTextChange={this.handleCypherQueryTextChange}\n          searchText={this.state.searchText}\n          handleSearchTextChange={this.handleSearchTextChange}\n          handleGoClick={this.handleGoClick} \n          handleResetClick={this.handleResetClick}\n          handleClearClick={this.handleClearClick}>\n          <GraphComponent \n            cypherQuery={this.state.cypherQuery}\n            isGoClick={this.state.goClick}\n            goClick={this.goClick}\n            isClearGraph={this.state.clearGraph}\n            clearClick={this.clearClick}/>\n            {this.state.showPagination? this.returnPagination() : null}\n        </AppSideBar>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}